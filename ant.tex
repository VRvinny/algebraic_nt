\documentclass[11pt]{article}

\usepackage[left=3cm, right=3cm, top=3cm, bottom=3cm]{geometry}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amsthm}
\usepackage{ragged2e}
%crossed out elements
\usepackage{cancel}
\usepackage{amssymb}
%lightning symbol
\usepackage{wasysym}
%position tables
\usepackage{placeins}
%use right curly braces
%\usepackage{mathtools}
%place text under sigmas and pi
\usepackage{mathtools}
%kappa%
\usepackage{graphicx}


\newenvironment{rcurly}{\left.\begin{aligned}}{\end{aligned}\right\rbrace}

\begin{document}

\numberwithin{equation}{subsection}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{defn}[theorem]{Definition}
\newtheorem{prop}[theorem]{Proposition}
\newtheorem{cor}[theorem]{Corollary}
\newtheorem{lemma}[theorem]{Lemma}
\newcommand{\R}{\mathbb{R}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\A}{\alpha}
\newcommand{\aaa}{\alpha}
\newcommand{\z}{\zeta}
\newcommand{\ring}{\mathcal{O}}
\newcommand{\spa}{$ $\\[-0.5em]}
\newcommand{\spac}{$ $\\[1em]}
\newcommand{\B}{\beta}
\newcommand{\G}{\gamma}
\newcommand{\bba}{\mathcal{B}}
\newcommand{\dd}{\Delta}
\newcommand{\ttt}{\theta}
\newcommand{\phh}{\varphi}
\newcommand{\ff}{\mathbb{F}}
\newcommand{\ii}{\mathcal{I}}
\newcommand{\pp}{\mathcal{P}}






\title{Algebraic Number Theory}
\author{Vinesh Ramgi}
	%\date{}\o
	\maketitle


\newpage
	\begin{abstract}

		\centering{There's definitely mistakes in this but don't blame me if you fail (:} \\[2em]

		For an up to date version of this pdf, check my GitHub :)\\[0.5em]
https://github.com/vrvinny/algebraic\_nt

	\end{abstract}
\newpage
\tableofcontents{}
\newpage
	\section{Introduction/Review}
	\subsection{Introduction}
		This is the study of certain rings, numbers called algebraic integers, e.g. 
	
	\begin{itemize}
		\item{Quadratic rings $\Z[\sqrt{d}]$ or $\Z [\frac{1+\sqrt{d}}{2}$]}
		\item{Cyclotomic rings $\Z[\zeta_n] \implies y = e^{2\pi \i /n }$}
		\item{$\Z[z\sqrt{2}] = \{ x+y^3\sqrt{2} + z^3 \sqrt{z}^2 \}$ $x,y,z \in \Z$}
	\end{itemize}


	\begin{defn}
		A Diophantine equation is an equation of the form $f(x_1, \dots, x_n)=0 $ where $f$ is a polynomial with coefficients in $\Z$ 
	\end{defn}

	We'll usually be interested in solution in integers (or maybe rational numbers), for example, Pell's equation- $x^2 - dy^2 = 1$, or $N(A) = n $ where $A= x + y \alpha $, $\alpha = \{ \sqrt{d},  \frac{1+\sqrt{d}}{2}\}$ .

	In general Diophantine equations are hard, Matiyasevich's theorem shows Diophantine equations are as hard as any mathematical question.
	Inspite of this, there are some Diophantine eqations for which we have methods for solving, e.g. \textit{What are the integer solutions of $x^3 = y^2 + y = y(y+1) ? $}.
	$ $\\[1em]
	Since  $y,y+1$ are both coprime and their product is a cube, both $y$ and $y+1$ are a cube which implies $y=0,-1$. So we have two solutions, $(0,0), (0,-1)$. To do this we used this lemma:


	\begin{lemma}
		Descent Lemma $ $

		Let $R$ be a ring be a unique factorisation domain. Suppose $a,b,c \in R$ and $a^n = bc$. If $b,c$ are coprime in $R$ then $b=u^{rn}$, $ c=vs^n$ where $u,v$ are units in $R$.
	\end{lemma}

Another example, $x^3 = y^2 + 1$:

	Problem, $y^2+1$ doesn't factorise in $\Z$ but it does factorise in $\Z[i] \implies x^3 = (y+i)(y-i)$. We want to use the Descent lemma to solve the equation.
	\begin{itemize}
		\item{$\Z[i]$ is a unique factorisation domain}
		\item{Are $y+i$ and $y-i$ coprime in $\Z[i]$? }
	\end{itemize}
	Suppose $p \in \Z[i]$ is an irreducible common factor of $y+i$, $y-i$. If $p | y+i$ and $p|y-i \implies p|(y+i) - (y-i) \implies p | 2i$. This means the norms also divide each other, $N(p) | N(2i) \implies N(p) | 4 $.

	$N(p) \neq \pm 1$ because $p$ isn't a unit, therefore,  $ 2|N(p)|N(y+i) \implies N(y+i) = y^2+1 = x^3$, so $2| x^3$.

	Since $2$ is a prime, $2|x \implies x^3 \equiv 0 \hspace{7pt} (8)$. This implies $y^2 + 1 \equiv 0\hspace{7pt} (8) $


\begin{center}

\begin{tabular}{l|l}
\hline
$y$       & $y^2 \mod 8 $ \\ \hline
0       & 0             \\ 
$\pm 1$ & 1             \\ 
$\pm 2$ & 4             \\ 
$\pm 3$ & 1             \\ 
4       & 0             \\ 
\end{tabular}

\end{center}
Since the equation has no solutions, $y^2 + 1 \equiv 0 \hspace{7pt} (8)$ has no solutions. 
$ $\\
So $y+i, y-i$ are coprime in $\Z[i]$.


$\therefore y+1 = uA^3$ with $u \in \Z[i]^\times $, $A \in \Z[i]$ with $u=\pm 1 $ or $\pm i$
$ $\\[1em]
So in fact
\begin{align*}
	y+i &= (r+si)^3 \hspace{7pt} r,s \in \Z \\
	& = r^3 + 3ir^2s - 3rs^2 - is^3\\
	& = r^3 - 3rs^2 + i(3r^2s - s^3)
\end{align*}
Organising the terms gives a new Diophantine equation:
\begin{align*}
	1= 3r^2s - s^3 && y = r^3 - 3rs^2
\end{align*}
We can solve the new equation: 
$ $\\[1em]
$1= (3r^2-s^2)s$ $\implies $ $s= \pm 1$
$ $\\[1em]
If $s=1 \implies 3r^2 - 1 =1 $ \lightning\\
If $s=-1 \implies 3r^2 - 1 = -1 \implies r =0 $ \hspace{7pt} so $(r,s) = (0,-1)$
$ $\\[1em]
This implies $x=1, y= 0$ so $(1,0)$ is the only solution in integers.

$ $\\[1em]
This motivates the question: which rings are unique factorisation domains? 
More specifically which rings of algebraic integers are unique factorisation domains?

\subsection{Definitions and Proofs}
A ring is a set $R$ with two operations $ + $ \& $  \times $. 
$(R, +)$ is an abelian group with identity element $0$. 
$\times $ is commutative, associative and has identity 1. 
$x(y+z) = xy+xz$ $\forall x,y,z \in R$
$ $\\[1em]
An element $x \in R$ is:
\begin{itemize}
	\item{a unit if $\exists $ $x^{-1} \in R $ such that $xx^{-1} = 1$ }
	\item{reducible if $x=yz $ where $y,z$ not units}
	\item{irreducible otherwise}
\end{itemize}
For examples, in $\Z$, units are $\pm1$, irreducible elements are $\pm p $ for prime numbers $p$.

\begin{defn}
	A ring $R$ is an integral domain if $xy=0 \implies x=0$ or $y=0$
\end{defn}
\begin{lemma}
	Cancellation property: If $R$ is an integral domain, if $x \neq 0$ then $xy=xz \implies y=z$
\end{lemma}
\begin{proof}
	\begin{align*}
	xy =xz &\implies x(y-z) = 0 \text{ and since } x\neq 0\\
		&\implies y-z =0 \\
		&\implies y=z
	\end{align*}
\end{proof}
$ $\\
A ring $R$ is a unique factorisation domain if:
\begin{itemize}
	\item{$R$ is an integral domain}
	\item{If $x \in R$ and $x \neq 0 $ then $x=Up_1 \dots p_r$  with $U \in R^\times $ and $P_i$ irreducible }
\end{itemize}
$ $\\
Suppose $p_1 \dots p_r  = q_1 \dots q_s$ with $p_i, q_i$ irreducible then $r=s$ and we can renumber so that $q_i = Up_i$ with $U \in R^\times$.

The $3^{rd}$ condition is equivalent to if $p \in R$ is irreducible and $p|ab $ then $p| a$ or $p | b$.

\begin{lemma}
	Descent Lemma: Let $R$ be a UFD (Unique Factorisation Domain) and let $a,b,c \in R$ with $a^n = bc $ and $b,c$ coprime.
	Then $b = ur^n$ and $c= vs^n$ with $u,v \in R^\times$
\end{lemma}


\begin{proof}
If $a$ is a unit then $b $ and $c$ are units, so the result is true.

If $a=0$ then $b=0$ or $c=0$.

WLOG assume $b=0 = 1*0^n$. 
	But $b$ and $c$ are coprime $\implies c$ must be a unit (since it is a common factor of $b$ and $c$.

	In other cases $a = p_1 \dots p_r $ with $p_i $ irreducible. 
	So 
	\begin{align*}
		b &=  \text{(a unit)} * p_1^{s_1} \dots p_r^{s_r} && s_i + t_i = n \forall i\\
		c &= \text{(a unit)} * p_1^{t_1} \dots p_r^{t_r} 
	\end{align*}
But we're assuming $b,c$ are coprime so:\\
$\implies $ each $s_i $ is either 0 or $n$ \\
	$\implies  b = $ (a unit) * (some $n^{th}$ power)  
	$\implies  c = $ (a unit) * (some $n^{th}$ power)  
\end{proof}
$ $\\
\textbf{Reminder about quadratic rings}\\
Let $d\neq 1$ be a square free integer and $\Z[\alpha] = \{ x+y\alpha : x,y \in \Z \}$
	\begin{equation*}
\alpha = \alpha_d = 
	\begin{cases}
		\sqrt{d} & d\not \equiv 1 \hspace{7pt} (4) \\
		\cfrac{1+\sqrt{d}}{2} & d \equiv 1 \hspace{7pt} (4)
	\end{cases}
	\end{equation*}

If $A = x+y\sqrt{d}$ then $\bar A = x-y \sqrt{d} $ and $N(A) = A \bar A = x^2 - dy^2 $.

Similarly $N(x+y\frac{1+\sqrt{d}}{2}) = x^2 +xy+ \frac{1-d}{4}y^2$.
$ $\\[1em]
The ring $\Z[\alpha]$ is norm-Euclidean if for all $A, B \in \Z[\alpha]$ iwht $B \neq 0$, $ \exists Q, R \in \Z[\alpha]$ such that $A=QB+R$ and $|N(R)| < |N(B)|$.

\begin{prop}
	If $\Z[\alpha]$ is norm-Euclidean then $\Z[\alpha]$ is a UFD.
\end{prop}
\begin{proof}
	(Sketch)\\
	We'll show that if $p \in \Z[\alpha]$ is irreducible and $p|AB$ then $p|A$ or $p|B$.\\
	If $p \not | A $ then $ hcf(A,P) = 1 \implies 1 = HA+KP$ by the Euclidean algorithm.\\
	$B = \underbrace{HAB}_\text{multiple of $p$} +\underbrace{KPB}_\text{multiple of $p$}$ $\implies p | B$
\end{proof}

\begin{theorem}
	Disappointing Theorem: $\Z[\alpha_d] $ is norm-Euclidean in the following cases $d = 2,3,5,13,-1,-2,-3,-7,-11$.
	Conjecturally there are infinitely many real quadratic rings which are UFD.
\end{theorem}

\section{Materials from other courses on rings, ideals and fields}
Mainly from Galois Theory, Commutative Algebra and Groups and Rings. 
In this course, 

\begin{itemize}
	\item{All rings are commutative with 1}
	\item{A field is a ring with $1 \neq 0$}
	\item{If $x\neq 0$, $x$ is a unit }
\end{itemize}

\begin{defn}
An ideal $I$ in a ring $R$ is a subset of $R$ such that:

	\begin{itemize}
		\item{$(I.+)$ is a subgroup of $R$}
		\item{$\forall x \in R $, $y \in I$ $\implies xy \in I$}
	\end{itemize}
\end{defn}
$ $\\
Examples: If $x \in R$ then we define $(x) = \{ xy: y \in R \}$.
This set $(x)$ is an ideal in $R$.


\begin{defn}
	Ideals of the form $(x)$ are called principal ideals. 
	$(x)$ is the principle ideal generated by $x$.\\
	$(x_1, \dots, x_n) = \{x_1y_1 + \dots + x_ny_n : y_i \in R\}$ this is also an ideal.
\end{defn}
$ $\\[1em]
\textbf{E.g.} in $\Z$ $(4,6) = (2)$ and in general $(n,m) = (hcf(n,m))$

\begin{defn}
A principal ideal domain is an integral domain such that all ideals are principal. A Noetherian ring is a ring in which ideals are finitely generated.
\end{defn}
$ $\\[1em]
To show that $(x_1, \dots, x_n) \subseteq I$, it is equivalent to showing $x_1, \dots, x_n \in I$
$ $\\
\textbf{E.g.} in $\Z$ $(4,6) = (2)$
\begin{proof}
	\begin{align*}
		(4,6) \subseteq 2 && (2) \subseteq(4,6) \\
		4 = 2*2 \in (2) && 2=2*4 + (-1) *6 \in (4,6)\\
		6 = 2*3 \in (2) 
	\end{align*}
\end{proof}


\begin{defn}
A principal ideal domain is an integral domain in whicch every ideal is principal
\end{defn}

\textbf{E.g.} $\Z$ is a PID 

\begin{proof}
	Suppose $I \subseteq \Z $ is an ideal.\\[0.5em]
	If $I=\{0\} $ then $I=(0)$.\\
	If $I \neq \{0\}$ choose $x \in I$ with $|x|$ as small as possible with $x\neq 0 $.\\[1em]
	Claim $I=(x) $, $x \in I \implies x \subseteq I$.\\[1em]
Conversely, suppose $y \in I$ with $ y = qx + r$ such that $|r| < |x| $.
	This means that $r = y-qx \in I$ $\implies r = 0 \implies y= qx \in (x) $ which means $I\subseteq (x)$.
\end{proof}
$ $\\[0em]

\textbf{E.g.} If $\Z[\alpha]$ is a norm-Euclidean quadratic ring then $\Z[\alpha]$ is a PID.
\begin{proof}
	Replace $|x|$ by $|N(A)$ for $A \in \Z[\alpha]$.
\end{proof}

 \textbf{E.g.} If $k$ is a field then $k[x]$ is a PID.
\begin{proof}
	Replace $|x|$ by $deg(f)$ for $f \in k[x]$.
\end{proof}
\subsection{Quotient Rings}
Let $I$ be an ideal in $R$, we'll say $x=y \in (I)$ if $x-y \in I$.
$ $\\[1em]
$R/I = \{$Congruency classes of elements of $R$$\}$

\begin{lemma}
	If $x \equiv x'$ $(I)$ and $y \equiv y'$ $(I)$ then $x+y  \equiv x'+y'$ $(I)$ and $xy = x'y'$ $(I)$
\end{lemma}
This means we can make $R/I$ into a ring.

\begin{proof}
If $x-x' \in I$ and $y-y' \in I$ then:
	\begin{align*}
		(x+y) - (x'+y')  &= (x-x') + (y-y') \in I \\[2em]
		xy - x'y' &= xy - xy' + xy' -x'y'\\
		&= x(y-y') + (x-x')y \in I
	\end{align*}
\end{proof}
$ $\\[-2em]
\textbf{E.g.} If $R = \Z $, $ I= (n) $ and  $x \equiv x' (I) \Leftrightarrow  x \equiv x' \hspace{7pt}(n) \implies R/i = \Z/n $ 
\\[1em]
\textbf{E.g.} If $k$ is a field an $f \in k[x]$ with degree $d$ and $I = (f)$, every element of $k[x]$ is congruent to a unique polynomial of degree $<d$. (The remainder after dividing by $f$).
$ $\\ 
$\therefore$  $R/I = \{ a_0 + a_1 + \dots + a_{d-1}x^{d-1} : a_i \in k \}$

\begin{defn}
Let $R$ and $S$ be rings. 
A ring homomorphism is a function $\phi : R \rightarrow S$ such that:
	\begin{itemize}
		\item{$\phi(x+y) = \phi(x) + \phi(y)$}
		\item{$\phi(xy) = \phi(x) + \phi(y)$}
		\item{$\phi(1_R) = 1_S$}
	\end{itemize}
	$ $\\
	$ker(\phi) = \{ x \in R : \phi (x) =0 \}$ and $ker(\phi)$ is an ideal of $R$ (trivial to prove) \\
	$im(\phi) = \{ \phi(x) : x \in R\}$ and $im(\phi)$ is a subring of $S$
\end{defn}


\subsection{1st Isomorphism Theorem for Rings}

Let $\phi : R \rightarrow S$ be a ring homomorphism. 
Then there is an isomorphism:
\begin{align*}
	R/ker(\phi) \cong im(\phi) \text{ by the mapping } (x\mod ker(\phi)) \rightarrow \phi(x)
\end{align*}

\subsection{Maximal Ideals}

\begin{defn}
Let $R$ be a ring.
An ideal $M \subseteq R$ is maximal if:
	\begin{itemize}
		\item{$M \neq R$}
		\item{If $M \subseteq I \subseteq R $ with $I$ an ideal then $I=M $ or $R$}
	\end{itemize}
\end{defn}


\begin{prop}
	Suppose $R$ is a PID, an ideal $(x)$ is maximal if and only if $x$ is irreducible.
\end{prop}
\begin{proof}
Algebra 4
\end{proof}
$ $\\[-1em]
Note that the difference between a field and a ring is that if $x \neq 0$ then $xx^{-1} = 1$ and $1 \neq 0$.
\begin{prop}
In any ring $R$, $M$ is maximal if and only if $R/M$ is a field
\end{prop}
\begin{proof}
	$(\implies)$ Assume $M$ is maximal therefore $M \neq R$ and $1 \not \in M$ and $1 \not \equiv 0 \hspace{7pt} (M)$.


	Assume $x \not \equiv 0 \hspace{7pt}(M)$, let $I$ be the ideal generated by $M$ and $x$, then $ I \supsetneq M$ which means $I=R$.
	$ $\\[1em]
	$I = \{ m + xy : m \in M, y \in R \} \implies 1 = m + xy $ and $ 1 \equiv xy \hspace{7pt}(M)$
	$ $\\[1em]
	($\Longleftarrow$) Assume $R/M$ is a field so $1 \not \equiv 0 \hspace{7pt} (M)$.

	$\therefore 1 \not \in M$ so $M \neq R$.

	Suppose $M \subsetneq I$, want to show $I=R$.
	Choose $x \in I, x \not \in M $ so $x \not \equiv 0 \hspace{7pt }(M)$
	$ $\\[0.5em]
	So $\exists y $ such that $xy = \equiv 1 \hspace{7pt} (M) $ and by the definition of existence of $x^{-1}$, $1 \in I \implies I = R$
\end{proof}


\begin{cor}
	Let $k$ be a field and $f \in k[x]$, then $k[x]/(f)$ is a field if $f$ is irreducible over $k$
\end{cor}
\begin{proof}
	$f $ irreducible $\iff (f) $ is maximal $ \iff k[x]/(f) $ is a field.\\
	(Polynomial ring is ideal)
\end{proof}

\subsection{Field extensions}
\begin{defn}
If $k $ and $l$ are fields with $k \subseteq l$ then $k$ is a subfield of $l$. 

$l$ is called a field extension of $k$, $e.g.$ $\R \subseteq \C$ 
\end{defn}
When $l$ is an extension of $k$, we can think of $l$ as a vector space over $k$.

$ $\\
\textbf{E.g.} $\C$ has basis $\{1,i\}$ as a vector space over $\R$

The degree of the extension $[l:k]$ is the dimension of $l$ as a vector space over $k$ \\
\textbf{E.g.} $[\C : \R] = 2$ \\
\textbf{E.g.} $\Q(i) = \{x+iy : x,y \in \Q \}$

This is an extension of $\Q$ with basis $\{1,i\} $ $\implies [\Q(i) : \Q] = 2$
$ $\\[0.5em]
\textbf{E.g.} Let $f \in \Q[x] $ be irreducible $\implies \Q[x] /(f) = \{a_0 + a_1x + \dots a_{d-1}x^{d-1} \} $ is a field.

This is an extension of $\Q$ and has degree $d=deg(f)$.

$\{ 1,x,\dots, x^{d-1} \}$ is a basis, so $[\Q[x]/(f) :\Q] = d = deg(f)$.

$ $\\
\textbf{Notation: } Let $l$ be an extension of $k$ and let $\alpha \in l$, then:

\begin{defn}
	$\alpha$ is called "algebraic over $k$" if there exists a non-zero $f \in k[x] $ such that $f(\alpha) = 0$.
	Otherwise $\alpha$ is transcendental.
\end{defn}
$ $\\[-0.5em]
\textbf{E.g.} $\sqrt{2} $ is algebraic over $\Q$ since it is a root of $x^2 - 2$
$ $\\[1em]
For any $\alpha \in l$ $k[\alpha] = \{ g(\alpha) : g \in k[x]\}$, the ring generated by $k$ and $\alpha$.
$ $\\
$k(\alpha) = \{ \cfrac{g(\alpha)}{h(\alpha)} : g,h \in k[x], h(\alpha) \neq 0\}$, the field generated by $k$ and $\alpha$.


\begin{prop}
	Let $\alpha$ be algebraic over $k$.
	Then there is a unique monic polynomial $m(x) \in k[x]$ such that:
	\begin{itemize}
		\item{$m(\alpha) = 0 $}
		\item{$f(\alpha) = 0 \iff m | f$}
	\end{itemize}
\end{prop}

$m$ is the only monic irreducible polynomial over $k$ such that $m(\alpha) = 0$.


\begin{defn}
This polynomial is called the minimal polynomial of $\alpha$ over $k$
\end{defn}
$ $\\[-0.5em]
\textbf{E.g.} $i$ is algebraic over $\R$ with minimal polynomial $x^2 + 1$

$i$ is algebraic over $\Q$ with minimal polynomial $x^2 + 1$

$i $ is algebraic over $\C$ with minimal polynomial $x-i$


\begin{cor}
	Let $\alpha$ be algebraic over $k$, then $k[\alpha] = k(\alpha)$, i.e. $k[\alpha]$ is a field and there is an isomorphism 
	\begin{align*}
		k[x]/ (m) &\cong k(\alpha)\\
		(g(x) \mod m) &\mapsto g(\alpha)\\
		a_0+a_1x +\dots + a_{d-1}x^{d-1} &\mapsto a_0 + a_1\alpha + \dots +a_{d-1}\alpha^{d-1} 
	\end{align*}
	where $m$ is the minimal polynomial and has degree $d$.
\end{cor}

$\{ 1, \alpha, \dots, \alpha^{d-1} \}$ forms a basis for $k(\alpha)$ and $[k(\alpha) : k] = d = deg(m)$




\begin{proof}
	We have a homomorphism (surjective) $k[x] \to k[\alpha] \implies k[x] / (m) \cong k[\alpha]$ and $g \to g(\alpha) $.
	(Field because $m$ is irreducible)

	Kernel $= \{ g: g(\alpha) = 0 \} = (m)$, therefore $k[\alpha]= k(\alpha) $ the isomorphism takes $(g(x) \mod m)$ to $g(\alpha)$.
	$ $\\[1em]
	 $ \{ 1,x,\dots, x^{d-1} \}$ is a basis for $k[x]/(m) $
	 $ $\\[1em]
	 So $ \{ 1,\alpha, \dots, \alpha^{d-1} \}$ is a basis for $k(\alpha)$
\end{proof}
$ $\\[-0.5em]
\textbf{E.g.} $i$ is algebraic over $\R$ with minimal polynomial $x^2 + 1$


$ \R[x] /(x^2 + 1) \cong \R(i) = \C$ with the map $a+bx \mapsto a+bi $ $a,b \in \R$

$ $\\[1em]
Similarly $\Q[x] /(x^2 + 1) \cong \Q(i) $ with $a,b \in \Q$ with the map $ a+bx \mapsto a+bi$
$ $\\[1em]
\textbf{E.g.} $\alpha = \sqrt[3]{2}$ This is a root of $x^3 - 2$ and so $\alpha$ is algebraic (over $\Q$).

$\Q[x] / (x^3 -2 ) \cong \Q(\alpha) $ with the mapping $a+bx+cx^2 \mapsto a+b\alpha + c\alpha^2$.

The degree of the extension $[\Q(\alpha) : \Q] = 3$ with $\{1,\alpha, \alpha^2 \}$ a basis for $\Q(\alpha)$ over $\Q$.

\subsection{Finding Minimal Polynomials}
We need methods to check that a polynomial is irreducible over $\Q$.

\begin{lemma}
	Gauss Lemma: Suppose $f \in \Z[x]$ and $f=gh \hspace{7pt} g,h \in \Q[x] $, then there exists $c \in Q^\times $ such that $cg$ and $c^{-1} $ are in $\Z[x].$
\end{lemma}

\begin{lemma}
	Monic Gauss Lemma: Let $f \in \Z[\alpha]$ be monic, if $f=gh \in \Q[x]$ both monic then $g,h \in \Z[x]$.
\end{lemma}
\begin{cor}
	If $f \in \Z[x] $ is monic the $f$ is irreducible over Q $\iff $ irreducible over $\Q$
\end{cor}

\begin{cor}
	Let $f \in \Z[x]$ be monic.
	Let $\bar f$ be the reduction of $f \mod n $, i.e. $\bar f \in (\Z / n)[x].$
	If $\bar f$ is irreducible then $f$ is irreducible over $\Z$ and over $\Q$.
	Note that $n$ doesn't need to be prime
\end{cor}


\subsection{Eisenstein's Criterion}
 Let $f \in \Z[x]$ and let $p$ be prime.
Let $f(x) = a_dx^d+ \dots + a_0$, if $p \not | a_d $ and $f(x) \equiv a_dx^d \hspace{7pt} (p)$ and let $ f(0) \not \equiv 0 \hspace{7pt} (p^2) $ then $f $ is irreducible over $\Z/p^2 $ and over $\Q$.

$ $\\
\textbf{E.g.} $\alpha = 10^\frac{1}{11} \implies \alpha^{11} = 10$.


$\alpha $ is a root of $x^{11} - 10$

$x^{11} -10 $ is irreducible by Eisenstein's Criterion (either with $p=2$ or $p=5$)

So $m_\alpha(x) = x^{11}-10 $ 
$ $\\[1em]
\textbf{E.g.} $\alpha = 2^{\frac{2}{3}}$

$\alpha^3 = 4$

$\alpha$ is a root of $m(x) = x^3 -4$

To show that $m$ is the minimal polynomial, we must show that $m$ is irreducible.

$m(x+1) = x^3 + 3x^2 +3x-3$

$m(x+1)$ is irreducible by Eisenstein's criterion with $p=3 \implies m(x) $ is irreducible.
$ $\\[1em]
\textbf{E.g.} $\alpha = 3^{\frac{2}{3}} $

$\alpha^3 - 9 = 0$

$\alpha$ is a root of $m(x) = x^3 -9 $.
Note that $deg(m) = [\Q[\alpha):\Q]$.
To show that $m$ is the minimal polynomial it's sufficient to show that $[\Q(\alpha) : \Q] \geq 3$

$\alpha = 3\beta$ where $\beta = 3^{\frac{1}{3}} = \frac{1}{3}\alpha^2$ so $\beta \in \Q(\alpha) \implies \Q(\beta) \subseteq \Q(\alpha)$
$ $\\[-0.5em]

$\beta $ has minimal polynomial $x^3 - 3$ (by Eisenstein's criterion)
$ $\\[-0.5em]

$\therefore [\Q(\beta):\Q] = 3$
$ $\\[-.5em]

$\therefore m(\alpha)$ has degree $\geq 3$
$ $\\[-.5em]

$\therefore m_\alpha = x^3 -9$ 
$ $\\[1em]
Alternatively suppose $x^3 -9$ factorises over $\Q$.
By the Monic Gauss lemma, $x^3 -9 = (x-a)(x^2 +bx+c)$.
By comparing coefficients, $ac=9$, which means $a = \pm 1$ or $\pm 3$ or $\pm 9$ and $a^3 = 9$ because $a$ is a root. \lightning
$ $\\[1em]
\textbf{E.g.} $ \alpha = \sqrt{2} + \sqrt{3} $
\begin{align*}
	\alpha^2 & = 2+2\sqrt{6} +3 && (\alpha^2 - 5) -24 = 0\\
	& = 5 + 2\sqrt{6}
\end{align*}

So $\alpha $ is a root of $m(x) = x^4 - 10x^2 + 1$

Suppose $m(x) = (x-a)(x^3+bx+^2+cx+d) $ with $a,b,c,d \in \Z$
$ $\\

$a $ is a root of $m$ and $a$ is a factor of $m(0) = 1$ so $a = \pm 1$ which is a contradiction since $m(\pm 1) = -8 \neq 0.$

The other possible factorisation is $m(x) = (x^2 + ax+b)(x^2+cx+d)$.
Comparing coefficients:
\begin{align*}
	0 &= a+c && \\
	-10 &= b+d+ac && c = -a &&a^2 = 10 \pm 2 = 8 \text{ or } 12 \text{ \lightning} \\ 
	0 &= ad+bc\\
	1 &= bd && b=d=\pm 1\\
\end{align*}


\subsection{Roots of Unity}
Let $n$ be a positive integer. 
An $n^th$ root of unity is a complex number $\zeta$ such that $\zeta^n = 1$.
A primitive $n^{th}$ root of unity is an $n^{th}$ root of unity which is not a $d^{th}$ root of unity for any $d<n$.


$n^{th}$ root of unity: $e^{2\pi i \frac{a}{n}}$ for $a = 0,1,\dots,n-1$

Primitive $n^{th}$ root of unity $e^{2\pi i \frac{a}{n}}$ for $a \in (\mathbb{Z}/n)^\times$.

There are $\phi(n)$ primitive $n^{th}$ roots of unity.
$ $\\[1em]
The $n^{th} $ cyclotomic polynomial is $\Phi_n(x) = \underbrace{\prod}_{\substack{\text{Primitive $n^{th}$} \\ \text{ roots of unity }}} (x - \zeta)$

$deg(\Phi_n(x)) = \phi(n)$





\begin{lemma}
	For any $n$: $\prod_{d|n} \Phi_d(x) = x^n - 1$.
	We can use this to calculate $\Phi_n$.
\end{lemma}
$ $\\
\textbf{E.g.} If $p$ prime then $\Phi_1(x)\Phi_p(x) = x^p -1 $.

So $\Phi_p(x) = \cfrac{x^p-1}{x-1} = 1+x+\dots + x^{p-1}$



\begin{cor}
	$\Phi_n(x)$ has coefficient in $\Z$.
\end{cor}
$ $\\[-0.5em]
\textbf{Remark:} If $\zeta$ is a primitive $n^{th}$ root of unity then $\zeta$ is a root of $\Phi_n$
\begin{theorem}
Each $\Phi_n$ is irreducible over $\Q$.
	So $\Phi_n$ is the minimal polynomial of a primitive $n^{th}$ root of unity.
\end{theorem}


\subsection{Tower Law}

\begin{theorem}
	Suppose $k \subseteq l \subseteq m $ be fields. Then $[m:k] = [m:l]*[l:k]$
\end{theorem}

\begin{proof}
	Sketch: Let $\{ b_1, \dots, b_n \}$ be a basis for $l$ as a vector space over $k$.

	Let $\{c_1, \dots, c_m \}$ be a basis for $m$ over $k$.

	Then $\{ b_i, c_j\}$ s a basis for $m$ over $k$.
\end{proof}
$ $\\
\textbf{E.g.} $\Q \subseteq \Q(\sqrt{2}) \subseteq \Q(\sqrt{2},\sqrt{3}) $
$ $\\[-0.5em]

$[\Q(\sqrt{2}) : \Q] = 2 $ and $x^2 - 2$ is the minimal polynomial.
$ $\\[-0.5em]

The minimal polynomial of $\sqrt{3} $ over $\Q(\sqrt{2})$ is a factor of $x^2 -3$ so degree is 1 or 2.

From the Tower theorem, we know $[\Q(\sqrt{2},\sqrt{3}):\Q] = \cancel{2}$ or $4$.
$ $\\[-.5em]

$\alpha = \sqrt{2} + \sqrt{3} \in \Q (\sqrt{2}, \sqrt{3})$
$ $\\[-.5em]

$\Q \underbrace{\subseteq}_{\substack{\text{deg 4 since } \\ \text{$\alpha$ has} \\ \text{ minimal} \\ \text{polynomial}\\ \text{$x^4 -10x^2 + 1$} }} \Q(\sqrt{\alpha}) \subseteq \Q(\sqrt{2},\sqrt{3}) $
$ $\\

By the Tower law $[\Q(\sqrt{2},\sqrt{3}): \Q]$ is a multiple of 4.
$ $\\[-.5em]

$ \therefore [\Q(\sqrt{2},\sqrt{3}): \Q] = 4$
$ $\\[-.5em]

$ \therefore [\Q(\sqrt{2},\sqrt{3}): \Q(\sqrt{2}] = 2$
$ $\\[-0.5em]

$x^2 - 3$ is irreducible over $\Q(\sqrt{2})$
$ $\\[-0.5em]

Also $ [\Q(\sqrt{2},\sqrt{3}): \Q(\alpha)] = 1$ i.e. $\Q(\sqrt{2},\sqrt{3}): \Q(\alpha)$

$ $\\[-.5em]
This is an example of:

\subsection{Primitive Element Theorem}
\begin{theorem}
	Suppose $k$ is an extension of $\Q$ of finite degree then there exists $\alpha \in k$ such that $k = \Q(\alpha)$
\end{theorem}

\begin{proof}
	Sketch: $k$ has only finitely many subfields.
	Choose an $\alpha \in k$ which is not in any of the proper subfields.
	$ $\\
	
	$\Q (\alpha)$ is not contained in a proper subfield of $k$ but $\Q(\alpha)$ is a subfield of $k$, therefore $\Q(\alpha) = k$.
\end{proof}

\subsection{Conjugates and Complex Field Embeddings}

Let $\alpha, \beta $ be algebraic numbers.
Then $\alpha$ and $\beta$ are conjugates if $m_\alpha = m_\beta$. They have the same minimal polynomial over $\Q$.
$ $\\[1em]
\textbf{E.g.} $\alpha = i$, $\beta = -i$ both have minimal polynomial $x^2 + 1$.\\
\textbf{E.g.} $\zeta = e^{2 \pi i \frac{1}{100}} $ This is a conjugate of $\zeta^3$, both have minimal polynomial $\Phi_{100}$.\\
\textbf{E.g.} $\sqrt{2} + \sqrt{3}$ has conjugates $\pm \sqrt{2} \pm \sqrt{3}$


\subsection{Galois Separability Lemma}
\begin{lemma}
	If $\alpha$ is algebraic over $\Q$ then $m_{\alpha}(x)$ has no repeated roots in $\C$, i.e. $\alpha$ has exactly $d$ conjugates in $\C$ where $d = deg(m(x)) = [\Q(\alpha) : \Q]$
\end{lemma}


\begin{proof}
	Suppose $(x-\beta)^2$ $|$ $ m_\alpha(x) $ where $m_\alpha$ is the minimal polynomial of $\beta$ over $\Q$.

	If $(x-\beta)$ $ | $ $ m_\alpha$ then $\alpha - \beta $ $ | $ $ m_\alpha '(x) $ but $m_\alpha'$ has smallest degree than $m_a$. \lightning


\end{proof}

\begin{defn}
	An algebraic number field is an extension $k \supseteq \Q$ with $[k: \Q]$
\end{defn}
$ $\\[-0.5em]
By the primitive element theorem $k = \Q (\alpha)$ for some $\alpha \in k$ so $k \cong \Q[x] /(m) $ when $m$ is the minimal polynomial of $\alpha$ and $ deg(m) = [k: \Q]$.
The polynomial has exactly $d$ roots in $\C$ where $d= deg(m)$. 
Call these roots $\alpha_1, \alpha_d$. 
Each $\A_i$ has minimal polynomial $m$ over $\Q$.
$ $\\[1em]
$\therefore \Q[x] /(m) \cong \Q(\A_i) \subseteq \C$
$ $\\[-0.5em]

So for each conjugate $\A_i$ of $\A $ in $\C$, there is a field homomorphism:
\begin{align*}
	\sigma_i : k &\to \C\\
	 k &\to \Q[x]/(m) \to \Q(\A_i) \subseteq \C\\
\end{align*}
\vspace{-3em}
\begin{align*}
	a_0 +a_1\A + \dots + a_{d-1} &\to& a_0+a_1x_1+\dots+a_{d-1}x^{d-1} &\to& a_0+a_1\A_1 + \dots + a_{d-1}\A_i^{d-1} 
\end{align*}


$ \sigma_i (a_0 + \dots + a_{d-1} \A^{d-1}) = a_0 +\dots + a_{d-1}\A_i^{d-1}$
\begin{prop}
$\sigma_1, \dots, \sigma_d$ are all the field homomorphisms from $k $ to $\C$
\end{prop}
$ $\\[-0.5em]
\textbf{E.g.} $k = \Q(\sqrt{2})$

The conjugates of $\sqrt{2}$ in $\C$ are $\pm 2$. 
$\A_1 = \sqrt{2}$,
$\A_2 = -\sqrt{2}$
\begin{align*}
	\sigma_1(x+y\sqrt{2}) = x +y\sqrt{2} \\
	\sigma_2(x+y\sqrt{2}) = x - y\sqrt{2}
\end{align*}

$k = \Q(\A)$ , $m(x) = x^3 - 2$ and $\A_1 = 2^{\frac{1}{3}}$, $\A_2 = 2^{\frac{1}{3}}e^{\frac{2\pi i}{3}} ,\A_3 = 2^{\frac{1}{3}} e^{\frac{4\pi i }{3}}$

\newpage
\section{Rings of Algebraic Integers}

\begin{defn}
	Let $k$ be a field extension of $\Q$.
	$\alpha \in k$ is an algebraic number if $f(\alpha)=0 $ for some $f \in \Q[x]$.
\end{defn}
$ $\\[-.5em]
$\A$ is an algebraic integer if $f(\A) = 0 $ for some $f \in \Z[x]$.
$ $\\[1em]
\textbf{E.g.} $\sqrt{2}$ is an algebraic integer $f(x) =x^2 -2$\\
\textbf{E.g.} $\alpha = \frac{1+\sqrt{5}}{2}$
\begin{align*}
	\bigg(\A - \frac{1}{2}\bigg)^2  - \frac{5}{4} &= 0\\
	\A^2 - \A -1 & =0\\
\end{align*}

So $f(x) = x^2 - x-1$
$ $\\[1em]
\textbf{E.g.} $\zeta = e^{\frac{2\pi i}{n}}$ then $f(x) = x^n - 1 \implies \zeta$ is an algebraic integer.

\begin{prop}
	Suppose $\alpha$ is an algebraic number. 
	Then $\A$ is an algebraic integer $\iff$ $m_\A \in \Z[x] $ (minimal polynomial).
\end{prop}
$ $\\[-0.5em] 
\textbf{E.g.} $\frac{1}{\sqrt{2}}$ is not an algebraic integer, it's minimal polynomial is $x^2 - \frac{1}{2}$

\begin{proof}
	($\Longleftarrow$) if $m_\A(x) \in \Z[x] $ then $\A$ is an algebraic integer $m_\A(\A) = 0$ and $m_\A \in \Z[x]$ is
	
	monic.
$ $\\
	$(\implies)$ Assume $\alpha$ is an algebraic integer $f(\alpha) = 0 $, $f \in \Z[x]$ monic.

	$m_\A  | f $ in $\Q(x) $ by definition of $m_\A$, i.e. $f = m_\A^\times q$ , $m_\A, q \in \Q[x] $ monic.

	By the Monic Gauss lemma, $m_\A$ and $q \in \Z[x]$. 
\end{proof}

\begin{cor}
The algebraic integers in $\Q$ are $\Z$
\end{cor}
\begin{proof}
Let $\A \in \Q $.
	$m_\A(x) = x-\A $.
	$m_\alpha \in \Z[x] \iff \A \in \Z$.
\end{proof}
$ $\\[-0.5em]
Main aim of this chapter: Given an algebraic number field $k$, what are the algebraic integers in $k$?
$ $\\[1em]
\textbf{Notation}: $\ring_k = \{ $Algebraic integers in $k\}$.\\
\spa
\textbf{E.g.} $\ring_\Q = \Z$ If $\A \in Q$ then $m_\A(x) = x-\A$



\begin{prop}
Let $A$ be an $n * n$ matrix with entries in $\Z$.
Then all eignevalues of $A$ are algebraic integers.
\end{prop}
\begin{proof}
	The eigenvalues are roots of $Ch_A(x) = \det(xI_n-A)$
\end{proof}
\spa
\textbf{Notation}:
$ \Z [ \A ] = \{f(\A) : f \in \Z[x] \}$ the ring generated by $\A$
\spac
As a group $\Z[\A]$ is generated by $\{1,\A,\A^2 , \dots \}$, i.e. $\Z[\A] = Span_\Z\{1,\A,\A^2 \dots \}$
\spac
Sometimes $\Z[\A]$ is finitely generated as an additive group, i.e. $\Z[\A] = Span_\Z\{b_1, \dots, b_r\}$.

\spa
\textbf{E.g.} $\Z[\sqrt{2}] = Span_\Z\{b_1, \dots, b_r\}$


\begin{prop}
	$\Z[\A]$ is finitely generated as an additive group $\iff \alpha$ is an additive integer.
\end{prop}

\begin{proof}
	$(\implies)$ Assume $\Z[\A] = Span_\Z\{b_1, \dots, b_r \}$ with $b_i \in \Z[\A]$
	\begin{align*}
		\A = a_{i1}b_1 + \dots + a_{1r}b_r && \text{ for some } a_{ij} \in \Z
	\end{align*}
	\begin{align*}
		\alpha b_1 = a_{11}& + \dots a_{1r}b_r \\ 
		&\vdots&& 	\begin{pmatrix}
b_1\\
\vdots\\
b_r
		\end{pmatrix}
		 = 
		 (a_{ij}) 
		\begin{pmatrix}
b_1\\
\vdots\\
b_r
		\end{pmatrix}
\\
		\alpha b_r = a r_1& + \dots a_{rr}b_r
	\end{align*}
	\begin{align*}
		\A
	\end{align*}
	So $\A$ is an eigenvalue of $(a_{ij})$ and $\A$ is an algebraic integer.
	\spac $(\Longleftarrow)$ Assume $\A$ is an algebraic integer $f(\A)=0$ for some monic $ f \in \Z[x]$.
	
	Let $d=deg(f)$, claim $\Z[\A] = Span_\Z\{1,\A, \dots, \A^{d-1} \}$.

	Let $R$ be a ring, $f,g \in R[x]$ such that $g=qf+r$ for $q,r \in R[x]$ with $deg(r)<d$
\spa

	$\Z[\A]=\{g(\A : g \in \Z[x]\}$
	\spa

	$g = qf=r$, \hspace{7pt} $deg(r) < d$, \hspace{7pt} $q,r \in \Z[x]$
\spa

	$g(\A) = q(\A)f(\A) + r(\A)$
	\spa

	$g(\A) = r(\A) = a_0 + a_1\alpha + \dots + a_{d-1} \A^{d-1}$
	\spa

	$g(\A) \in Span_\Z \{ 1, \A, \dots, \alpha^{d-1} \} $
\end{proof}

\begin{cor}
Let $\A, \beta \in k$ be both algebraic integers, then $\A + \beta$, $\A -\beta$, $\A\beta$ are algebraic integers form a subring of $k$.
	\begin{proof}
	Let $\Z[\A] = Span_\Z \{ 1,\A, \dots, \A^{d-1} \}$
		
		\hspace{37pt}$\Z[\beta]= Span_\Z \{ 1,\beta, \dots, \beta^{e-1}\}$
		\spa

		$\A^i * \beta^j \in Span_\Z \{ \A^i \beta^j:  i<d, j<e \}$
		\spa
		
		$\therefore \Z[\A,\beta] = Span_\Z \{\A^i \beta^j : i<d, j<e\}$
\spa

		So $\Z[\A, \beta]$ is finitely generated. 
\spa

		Let $\gamma = \A + \beta$ or $\A-\beta$ or $\A\beta $ so $\gamma \in \Z[\A,\beta]$
		\spa
		
		$\Z[\gamma] \subseteq \Z[\A,\beta] \implies \Z[\gamma]$ is finitely generated as an additive group.
		\spa

		$\implies \gamma$ is an algebraic integer.
	\end{proof}
\end{cor}
$\spa$
\textbf{E.g.} Let $k = \Q(\sqrt{5}) = \{ x+y\sqrt{5} : x,y \in \Q\} $. What is $\ring_k$?
\spa

Let $A = x+ y\sqrt{5}$, with $ x,y \in \Q$, $y\neq 0$.

Assume $A \in \ring_k $, $ k=\Q(A)$ and $m_A(x)$ has degree 2.
\spa

$(A-x)^2 - 5y^2 = 0$
\spa

$A^2 -2xA - 5y^2 + x^2=0$
\spa

So $m_A(x) = X^2-2xX+x^2 -5y^2$
\
\begin{align*}
	A \in \ring_k &\iff m_A(x) \in \Z[x]\\
	&\iff 2x \in \Z, \text{ and }x^2-5y^2 \in \Z
\end{align*}

This means the denominator of $x$ is at most 2.

\begin{align*}
	x&= \frac{r}{2} \hspace{7pt}r \in \Z \text{ since }x^2-5y^2 \in \Z \\[1em]
	y&= \frac{s}{2} \hspace{7pt} s \in \Z
\end{align*}
\begin{align*}
	\frac{r^2 - 5s^2}{4} \in \Z \implies r^2-5s^2 &\equiv 0 \hspace{7pt} (4)\\
	r^2 &\equiv s^2 \hspace{7pt}(2)\\
	r &\equiv s \hspace{7pt} (2)\\
	r = s& +2t \hspace{7pt} t \in \Z
\end{align*}
\begin{align*}
	A &=\frac{r}{2}+\frac{s}{2} \sqrt{5}\\[0.5em]
	& =\frac{s}{2} + t + \frac{s}{2}\sqrt{5}\\[0.5em]
	& = t + s\bigg(\frac{1+\sqrt{5}}{2}\bigg)
\end{align*}

So every algebraic integer in $k$ is actually in $\Z[\A]$ where $\A = \frac{1+\sqrt{5}}{2}$.

Conversely since $\A \in \ring_k$ we know $\Z[\A] \subseteq \ring_k$. 
$\ring_k = \Z[\A] = \{t+s\A : t,s \in \Z \}$.
\spac
What is so special about the rings $\ring_k ?$
Why not just study $\Z[\sqrt{5}]$ instead of $\Z[\frac{1+\sqrt{5}}{2}]$?



\begin{prop}
	Suppose $R \subseteq k $ is a UFD subring of $k$. If $A = \frac{\A}{\beta} $ is an algebraic integer in $k$ with $\A, \beta \in R$ then $A \in R$.
\end{prop}
\spa
	This implies $\Z[\sqrt{5}]$ is not a UFD (take $A = \frac{1+\sqrt{5}}{2})$.

\begin{proof}
	Let $A = \frac{\A}{\beta}$ be an algebraic integer. 
	Without loss of generality assume, $\A, \beta \in R$ are coprime.

	To prove $A \in R$ we'll show that $\beta $ is a unit.

	Suppose $p | \beta $, $p \in R$ is irreducible.
 	\spa

	$A \in \ring_k$ so $A^d + \A_{d-1}A^{d-1} + \dots a_0 = 0$ \hspace{7pt} $a_i \in \Z$


	\begin{align*}
		\frac{\A^d}{\B^d}  + a_{d-1} \frac{\A^{d-1}}{\B^{d-1}} + \dots + a_0 = 0\\
	\end{align*}

	Multiply by $\beta^d$:
	\begin{align*}
	\A^d + \underbrace{a_{d-1}\A^{d-1}\B + \dots + a_0\B^d}_\text{ multiples of $p$} = 0
	\end{align*}

	So $ p | \A^d$ and $p | \A$ since $R$ is a UFD and $p$ is irreducible.
	
	$p$ is a common factor of $\A $ and $\B$. \lightning 
	$\B$ has no irreducible factors so $\B$ is a unit.

\end{proof}
	\subsection{The Standard Represenation}

	\begin{defn}
The map $\B \mapsto A_\B$ is called the standard representation.
	\end{defn}
\spa
	Let $k / \Q$ be an algebraic number field.

	$d = [k: \Q]$ for some $\A \in k$
	\spa

	$k = \Q (\A)$
	\spa

	$m = m_\A$ minimal polynomial of $\A$
	\spa

	$\A_1, \dots, \A_d \in \C$ the (distinct) complex roots of $m_\A$, i.e. conjugates of $\A$ in $\C$.
	\spac
	For each $\A_i$ we have a field embedding:
	\begin{align*}
		\sigma_i&: k \longrightarrow \C\\
		\sigma_i&(a_0 + a_1\A + \dots + a_{d-1}\A^{d-1} ) = a_0 + a_1\A_i + \dots + a_{d-1}\A_i^{d-1}\\
		\sigma_i&(f(\A)) = f(a_i) \hspace{7pt} f\in \Q[x]
	\end{align*}
\spa
	For an element $\B \in k$, let $A_\B$ be the linear map $k \rightarrow k$, $A_\B(x) = \B x$.
	After choosing a basis for $k/\Q, $ $A_\B$ is a d$\times$d matrix of rational numbers.
	\spac
\textbf{E.g.} $k = \Q(\sqrt{2})$, $\B = 3+2\sqrt{2} $

We find the matrix of $A_\B$ with respect to the basis $\{1, \sqrt{2}\}$.
\begin{align*}
A_\B (1) = (3+2\sqrt{2})*1 = 3\cdot1 + 2\sqrt{2}\\
	A_\B (\sqrt{2}) = (3+2\sqrt{2})*1 = 4\cdot1 + 3\sqrt{2} &&
A = \begin{pmatrix}
	3 & 4\\
	2 & 3\\
\end{pmatrix}
\end{align*}
\spa
\textbf{Remark} : We can recover $\B$ from $A_\B$ by $\B = A_\B(1)$ and the map $\B \mapsto A_\B$ is injective.

\subsubsection{Properties of the Standard Representation}

\begin{itemize}
	\item{$A_{\B+\gamma} = A_{\B} + A_{\gamma}$ \hspace{7pt} $(\gamma, \B \in k \hspace{7pt} x \in \Q )$} 
	\item{$A_{\B\gamma} = A_{\B} \cdot A_{\gamma}$ }
	\item{$A_{x\B} = xA_{\B}$ }
\end{itemize}


\begin{proof}
	\begin{align*}
 A_{\B\gamma}(t) &= \B\gamma t\\
		&= A_\B(\gamma t)\\
		&= A_\B(A_\gamma(t) )&& \text{so } A_{\B\gamma} = A_\B \circ A_\gamma \\
	\end{align*}
Other proofs are similar.
\end{proof}

\begin{cor}
	If $g \in \Q[x]$ \hspace{7pt} $ A_{g(\B)} = g(A_\B)$. 
	The polynomial = the linear map
\end{cor}

\begin{proof}
	Let $g(x) = a_0 + a_1x + \dots + a_nx^n $\hspace{7pt} $a_i \in \Q$. 
	Then:
	\begin{align*}
		A_{g(\B)} &=A_{a_0 + a_1\B+\dots+a_n\B^n}\\
		&= A_{a_0} + A_{a_1\B} + \dots + A_{a_n\B^n}\\
		& = a_0A_1 + a_1A_\B + \dots + a_nA_{B^n}\\
		&= a_0A_1 + a_1A_\B+1_2(A_\B)^2 + \dots + a_n(A_\B)^n\\
		&= g(A_\B)
	\end{align*}
\end{proof}
\begin{defn}
	Let $\B \in k $ be the field polynomial $F_\B(x)$ is $F_\B(x) = \det(xI - A_\B)$ i.e. the characteristic polynomial of $\B$.
\end{defn}
\spa
$F_\B$ is the monic polynomial of degree $d$ in $\Q[x]$.

\begin{lemma}
	If $k= \Q(\A)$ then $F_\A(x) = m_\A(x)$.
\end{lemma}

\begin{proof}
	By the Cayley-Hamilton ($Ch_A(A) = 0$): $F_\A(A_\A) = A_{F_\A(\A)} = \underline{0}$.
	So $ F_\A(\A) = 0$ and $F_\A$ is a multiple of $m_\A$.
	Since it has degree $d$ and is monic, $F_\A = m_\A$.
\end{proof}

\begin{theorem}
	For any $\B \in k$, the matrix $A_\B$ is diagonalisable over $\C$ with diagonal entries $\sigma_1(\B), \dots, \sigma_d(\B)$ and $F_\B(x) = \big(x-\sigma_1(\B)\big) \dots \big(x-\sigma_d)\big)$
\end{theorem}
\begin{proof}
	First prove in the case $\B = \A$, $k = \Q(\A))$.

	The eigenvalues of $A_\A$ are the roots of $F_\A = m_\A$ (by the lemma)
	\spa

	These are $\A_1, \dots, \A_d$.
	By the Galois Separability lemma, we have $d $ eigenvalues.
	\spa

	$\therefore A_\A$ is diagonalisable over $\C$ and $P^{-1} A_\A P =$ 
	$
	\begin{pmatrix}
		\A_1 & &0\\
		 &\ddots &  \\
		0 && \A_d
	\end{pmatrix}
	$
	\spa

	Now check for any $\B \in k $ \hspace{7pt} $\B=g(\A)$ for some $g \in \Q[x]$

	\begin{align*}
	A_\B = A_g(\A) &= g(A_\A)a\\
		&= g \Bigg( P
		\begin{pmatrix}
			\A_1 & &\\
			& \ddots &\\
			&&\A_d
		\end{pmatrix}
		P^{-1}
		\Bigg)\\
		&= P g\Bigg(
		\begin{pmatrix}
			\A_1 & &\\
			& \ddots &\\
			&&\A_d
		\end{pmatrix}
		\Bigg) P^{-1}\\
		& = P
		\begin{pmatrix}
			g(\A_1) & &\\
			& \ddots &\\
			&&g(\A_d)
		\end{pmatrix}
		P^{-1} \\
		&= P
		\begin{pmatrix}
			\sigma_1(\B) & &\\
			& \ddots &\\
			&&\sigma_d(\B)
		\end{pmatrix}
		P^{-1}
	\end{align*}
\end{proof}
\spa

\textbf{E.g.} $k = \Q(\sqrt{2}) = \{ x+y\sqrt{2} : x,y \in \Q \}$ \hspace{7pt} $d=2$.
\spa

Use the basis $\{ 1, \sqrt{2} \}$
\begin{align*}
	A_{\sqrt{2}} (1) &= \sqrt{2}\cdot 1  = 0 \cdot 1 + 1\cdot \sqrt{2}\\
	A_{\sqrt{2}} (\sqrt{2}) &= 2\cdot 1 + 0\cdot \sqrt{2} &&
	A_{\sqrt{2}} = 
	\begin{pmatrix}
		0 & 2\\
		1 & 0 
	\end{pmatrix}
\end{align*}
\spa

Let $P = 
\begin{pmatrix}
	\sqrt{2} & \sqrt{2}\\
	1 &1
\end{pmatrix}
$ and
$
P^{-1}A_{\sqrt{2}}P=
\begin{pmatrix}
	\sqrt{2} & 0 \\
	0 & -\sqrt{2}
\end{pmatrix}
$
\spac

Let $\B = x+y\sqrt{2}$ \hspace{7pt}  $A_\B = x I_2 + y$ \hspace{7pt} $A_{\sqrt{2}} 
\begin{pmatrix}
	x &2y\\
	y&x\\
\end{pmatrix}
$
\spac

$
P^{-1}A_{\B}P=
\begin{pmatrix}
	x+y\sqrt{2} & 0\\
	0 &x-y\sqrt{2}
\end{pmatrix}
=\begin{pmatrix}
 \sigma_1(\B) &\\
	& \sigma_2(\B)
\end{pmatrix}
$
\spa

$F_\B(x) = \big(x-\sigma_1(\B)\big)\big(x-\sigma_2(\B)\big)$



\begin{cor}
	For any $\B \in k$, $[k : \Q(\B)]$
\end{cor}
\begin{proof}
	Suppose $p(x)$ is a monic irreducible factor of $F_\B$ in $\Q[x]$.
	Want to show $p=m_\B$.
	\spa

	The roots of $F_\B$ are $\sigma_1(\B), \dots, \sigma_d(\B)$.
	These are the conjugates of $\B$, i.e. the roots of $m_\B$.
	\spa

	Therefore the roots of $p$ have minimal polynomial $m_\B$.
	\spa

	$m_\B | p$ so $p = m_\B$ and since $F_\B $ and $m_\B$ are both monic, $F_\B = m_\B^r$ for some $r \in \Z$.
	Also $m_\B$ has degree $[\Q(\B) : \Q]$.
\spa

	So by the Tower law, $r = [k: \Q(\B)]$.
\end{proof}
\begin{cor}
	$\B \in \ring_{k} \iff F_\B(x) \in \Z[x]$
\end{cor}
\begin{proof}
	$(\implies)$
\spa

	Suppose $\B \in \ring_k $, $m_\B \in \Z[x]$ but $F_\B $ is a power of $m_\B \implies F_\B \in \Z[x]$
\spac
	$(\Longleftarrow)$
	Assume $F_\B \in \Z[x] $ \hspace{7pt} $ F_\B(\B) = m_\B(\B)^{[k:\Q(\B)]} = 0^{Y} = 0$ for some y.
	Therefore $\B \in \ring_k.$
	
\end{proof}

\textbf{E.g.} $k = \Q(i) $\hspace{7pt} $ \B = \frac{3}{2} + \frac{5}{7}i$
\begin{align*}
	F_\B(x) &= \big(x-\sigma_1(\B)\big)\big(x-\sigma_2(\B)\big)\\
	& = \bigg(x- \frac{3}{2} - \frac{5}{7} i\bigg)\bigg(x-\frac{3}{2} + \frac{5}{7}i\bigg)\\
	& = \bigg(x-\frac{3}{2}\bigg)^2 + \frac{25}{49} \not \in \Z[x] && \text{ so } \B \not \in \ring_k
\end{align*}

\begin{cor}
	Let $b \in k$ then $n \in \Z$ $(n > 0)$ such that $n \B \in \ring_k$.
\end{cor}

\begin{proof}
	Choose $n$ so that $nA_\B = A_{n\B}$ has entries in $\Z$. 
	Then $F_{n\B} \in \Z[x]$ and so by the previous corollary $n\B \in \ring_k$. 
\end{proof}
\spa
\textbf{E.g.} $k = \Q(\A)$, $\A = 10^{\frac{1}{3}}$,\hspace{7pt}  $\A \in \ring_k$ so $\Z[\A] \subseteq \ring_k$.
\spa

$\Z[\A] = \{x+y\A+z\A^2\ : x,y,z \in \Z \}$
\spa

Let $\B = \frac{1+\A + \A^2}{3}$ then $ A_\B  = \frac{1}{3} \begin{pmatrix}
	1 & 10 & 10\\
	1 & 1 & 10\\
	1& 1 & 1
\end{pmatrix}$
Is $\B$ an algebraic integer?
\spa

$F_\B(x) = \det(xI_3 - A_\B)$
\spa 

First calculate the standard representation:

\begin{align*}
	A_\A(1) & = \A = 0\cdot 1 + 1\cdot \A + 0\cdot\A^2\\
	A_\A(\A)& = \A^2 = 0\cdot 1 + 0\cdot \A + 1\cdot\A^2\\
	A_\A(\A^2)& = 10 =  10\cdot 1 + 0\cdot \A + 0\cdot\A^2\\ &&&&&
\end{align*}

$A_\A = \begin{pmatrix}
	0 & 0 & 10\\
	1 & 0 & 0 \\
	0 & 1 & 0
\end{pmatrix}$
$A_\A^2 = \begin{pmatrix}
	0 & 0 & 10\\
	1 & 0 & 0\\
	0 & 1 & 0
\end{pmatrix}^2 = 
\begin{pmatrix}
	0 & 10 &0\\
	0 & 0 &10 \\
	1 &0 &0 
\end{pmatrix}
$
\spac

$A_\B =\frac{1}{3} \Bigg ( I_3 + 
 \begin{pmatrix}
	 0 &0 &10\\
	 1 &0 &0\\
	 0 &1 &0\\
 \end{pmatrix}
 +
 \begin{pmatrix}
	 0 &10 &0\\
	 0 &0 &10\\
	 1 &0 &0\\
 \end{pmatrix}
\Bigg)
= \frac{1}{3}
 \begin{pmatrix}
	 1 &10 &10\\
	 1 &1 &10\\
	 1 &1 &1\\
 \end{pmatrix}
$
\spac

\begin{align*}
	F_\B &= \det(xI_3 - A_\B)\\
	& = \det\Bigg(\frac{1}{3}
	\begin{pmatrix}
		3x-1 & -10 & -10\\
		-1 & 3x-1 & -10\\
		-1 & -1 & 3x-1
	\end{pmatrix}
	\Bigg)\\
	&=\frac{1}{27} \bigg( \big( (3x-1)^3 -100-10) - \big(3(10(3x-1))\big) \bigg) \\
	& = \frac{1}{27} \big(27x^3 - 27x^2 -81x-81 \big)
\end{align*}

$F_\B(x) = x^3 -x^2 -3x-3 \in \Z[x] $ \hspace{7pt} $\B \in \ring_k$
\spa

$\Z[\A]]$ is not a UFD.



\subsection{Norms and Traces}

\begin{defn}
	For an element $\B \in k $ we define $N(\B) = \det(A_\B)$ to be the norm of $\B$ and $Tr(\B) = Tr(A_\B)$ to be the trace of $\B$.
\end{defn}

Note that $N(\B)$ and $Tr(\B) \in \Q$.
\spac 
\textbf{E.g.} $Tr(\begin{pmatrix}
	3 & 7 & 3\\
	4 & 7 & 6\\
	1 & 2 & 3
\end{pmatrix} = 3 + 7+ 3$

\begin{prop}
	$N(\B) = \sigma_1(\B) \times \dots \times \sigma_d(\B)$\\
	$Tr(\B) = \sigma_1(\B) + \dots + \sigma_d(\B)$ 
\end{prop}
\begin{proof}
	$A_\B \thicksim \begin{pmatrix}
		\sigma_1(\B) & & 0\\
		&\ddots &\\
		0 && \sigma_d(\B)
	\end{pmatrix}$
\end{proof}

\subsection{Properties of Norms and Traces}

\begin{itemize}
	\item{$N(\B\G) = N(\B) N(\G) $ for $\B, \G \in k$}
	\item{$N(x\B) = x^dN(\B)$ for $x \in \Q$}
	\item{$Tr(\B+\G) = Tr(\B) + Tr(\G)$}
	\item{$Tr(x\B) = xTr(\B)$}
\end{itemize}

\begin{proof}
	$N(\B\G) = \det(A_{\B\G}) = \det(A_\B A_\G) = N(\B) N(\G)$
\end{proof}

\begin{prop}
	$F_\B(x) = x^d - Tr(\B) x^{d-1} + \dots + (-1)^d N(\B)$
\end{prop}
\begin{proof}
	\begin{align*}
		F_\B(x) &= \big(x-\sigma_1(\B)\big) \times\dots\times\big(x-\sigma_d(x)\big)\\
		& = x^d - \big( \sigma_1(\B)+\dots + \sigma_d(\B) \big) x^{d-1} + \dots + (-1)^d\big(\sigma_1(\B)\times \dots \times \sigma_d(\B)\big)\\
		&= x^d - Tr(\B)x^{d-1} + \dots + (-1^d)N(\B)
	\end{align*}
\end{proof}
\spac
\textbf{E.g.} $\A = 10^\frac{1}{3}$, $\B = \frac{1+\A+\A^2}{3}$
\spa

$N(\B) = 3$, $Tr(\B) = 1$ and $F_\B (\A) = x^3 -x^2 -3x -3$

\begin{cor}
	If $\B \in \ring_k$ then $N(\B), Tr(\B) \in \Z$.
\end{cor}

\begin{proof}
	$ F_\B \in \Z[x]$
\end{proof}
\spa
\textbf{E.g.} $k = \Q(i)$, $\B = \frac{1+i}{2}$
\spa

$N(\B) = \frac{1+i}{2} * \frac{1-i}{2} = \frac{1+1}{4} = \frac{1}{2} \not \in \Z$
\spa

$ \B \in \ring_k$




\subsection{Integral Bases}

\textbf{E.g.} $\A = 10^{\frac{1}{3}}$, $k = \Q(\A)$ $\Z[\A] \subseteq \ring_k$
\spa

We also found another element $\B \in \ring_k $, $\B = \frac{1+\A+\A^2}{3}$ for $\Z[\A, \B] \in \ring_k$.
\spa

Is this all of $\ring_k$ or are there more?
\spa

Eventually this process will end with the whole of $\ring_k$ which will be proved later.

\begin{defn}
	Suppose $\mathcal{B} = \{b_1, \dots, b_n \} $ is a basis for $k$ as a vector space over $\Q$.
	We call $\B$ an integral basis if:
	\begin{align*}
		\ring_k = Span_\Z(\B = \{x_1b_1 + \dots + x_db_d: x_i \in \Z \})
	\end{align*}
\end{defn}
\begin{theorem}
	There exists an integral basis in $k$ and a method for finding it.
\end{theorem}

\begin{proof}
	(Sketch)

	Start with any basis $\{ b_1,\dots, b_d\}$.
	\spa

	After multiplying $b_i$ by integer, we can assume $b_i \in \ring_k$, $Span_\Z\{b_i\} \subset\Q$
	\spa

	If $Span_\Z \{\bba\} \neq \ring_k$ then we can find an element $\ring \in \ring_k$ with $\ring \not \in Span_\Z \B$.
	\spa

	Replace some $b_i$ by $\ring$ to get a new basis $\mathcal{C}$ and this new basis is "smaller" than $\mathcal{B}$ but we need to explain what smaller means.
\end{proof}

\spa
\textbf{E.g.} $\Q(i)$ \hspace{7pt}  $ \bba = \{1,i\}$ is an integral basis because $\ring_k =\Z[i]$. 
\spa

If $\bba$ is any basis then we define $\Delta(\bba) = \det(Tr(b_ib_j)) \in \Q$.
If $\bba \subseteq \ring_k$ then $\Delta\bba \in \Z$.
\spa

The symmetric matrix $\begin{pmatrix}
	Tr(b_ib_j)
\end{pmatrix}$
 is the matrix of a symmetric bilinear form $k \times k \rightarrow \Q$.
\spa
 
 $(A, B) \mapsto Tr(AB)$ \hspace{7pt} $A,B \in k$
 \spa

 $Tr\big((A+xC)B\big) = Tr(AB+xCB) = Tr(AB) + xTr(CB) $ \hspace{7pt} $ x \in \Q$


\begin{cor}
$\dd \bba \neq 0$ if $\bba$ is any basis 
\end{cor}

\begin{proof}
	Suppose $\dd \bba = 0 $, so $0$ is an eigenvalue of the matrix of the bilinear form.

	There exists $A \in k $ \hspace{7pt} $ (A\neq 0)$ such that $Tr(AB) = 0 $\hspace{7pt} $\forall B \in k$.

	Let $B = \frac{1}{A}$, thus $Tr(1) = 0$ and $d=0$ \lightning.
\end{proof}

\begin{cor}
	Suppose $\bba = \{b_i\}$ $\mathcal{C} = \{c_i\}$ are two bases.
	Let $M = (m_{ij})$ be the transition matrix i.e. $c_i = \sum_j m_{ij} b_j$ then $\dd \mathcal{C}  = \big(\det(M))\big)^2 \dd\bba$.
\end{cor}

\begin{proof}
	Recall from Algebra 3,  $Tr(c_i c_j) = M^T Tr(b_ib_j)M$.
	\spa

	Take the determinant $\dd \mathcal{C} = \det(M) \dd \bba \det(M) $.

\end{proof}
\begin{lemma}
	Let $\bba = \{b_1, \dots, b_d \}$ be a basis for $k/ \Q$ with $\bba \subset \ring_k$.
	
	Assume $\bba$ is not an integral basis. Then there is a prime number $p$ with $p | \dd \bba$ and an element:
	\begin{align*}
		\theta = \cfrac{x_1b_1 + \dots + x_db_d }{p} &&&& x_i \in \{0,\dots,p-1\} \text{ not all 0}
	\end{align*}
	such that $\theta$ is an algebraic integer.
\end{lemma}
\spa
If $x_i \neq 0$ then we can replace $b_i$ by $\theta$ to get a new basis $\mathcal{C}$ and $\dd(\mathcal{C}) = \bigg(\cfrac{x^i}{p}\bigg)^2 \dd \bba$ 

\begin{theorem}
	There is an integral basis in $k$
\end{theorem}
\begin{proof}
 Choose a basis $\bba \subseteq \ring_k$ with $|\dd \bba|$ as small as possible.
\spa

	Claim $\bba$ is an integral, suppose not.
	By the lemma there is a basis $\mathcal{C} \subseteq \ring_k$ such that $\dd \mathcal{C} =  \bigg(\cfrac{x^i}{p}\bigg)^2 \dd \bba$  for $|x_i|<p$.
\spac

	$| \dd \mathcal{C} | < |\dd \bba|$ \lightning


\end{proof}

\spa
The lemma also give a method for finding an integral basis.

\begin{enumerate}
	\item{Start off with any basis for $k/\Q$}
	
		For example if  $k = \Q(\A)$ we can take $\{1, \A, \dots, \A^{d-1} \}$
	\item{Multiplying the basis vectors by non-zero integers we can assume $\{ b_1, \dots, b_d\} \subseteq \ring_k$}
	\item{Calculate $\dd \{ b_1, \dots, b_d\}$}

		For each element $\theta = \cfrac{x_1b_1+\dots, + x_db_d}{p}$ \hspace{7pt}where $x_i \in \{0,\dots, p-1\}$ not all 0, $p$ prime and $p | \dd \bba $
		\begin{itemize}
			\item{If $\theta$ is an algebraic integer then replace some $b_i$ by $\theta$ to get a new basis and go back to 3).}
			\item{If none of the $\theta$ are algebraic integers then $\bba$ is an integral basis.}
		\end{itemize}
\end{enumerate}
\textbf{E.g.} $ k = \Q(\sqrt{5})$ Start with basis $\{1, \sqrt5\}$
\begin{align*}
	\dd\{1, \sqrt5\} & = \det \begin{pmatrix}
		Tr(1*1) & Tr(1*\sqrt5)\\
		Tr(\sqrt5*1) & Tr(\sqrt5\sqrt5)
	\end{pmatrix}\\
	&= \det \begin{pmatrix}
		2 & 0 \\
		0 & 10
	\end{pmatrix}\\ 
	&= 20 \\
	&=2^2 *5
\end{align*}

The only prime whose square divides this is $p=2$.
\spa

So $\theta = x+y\sqrt5 $\hspace{7pt} $x,y \in \{0,1\}$ not both 0.
\spa

The following combinations are possible, $\frac{1}{2}, \frac{\sqrt5}2$ and $\frac{1+\sqrt5}2$. Trivially $\frac{1+\sqrt5}2 \in \ring_k$. 
\spa

So the new basis $\mathcal{C} = \{1, \frac{1+\sqrt5}2\}$ and $\dd(\mathcal{C}) = \frac12^2 \dd \bba = 5$ 
\spa

There are no primes $p$ such that $p^2 | \bba $. This means there are no more $\theta $ to check $\implies \mathcal{C}$ is an integral basis.

$\ring_k = \{ x+y\A : x,y \in \Z \}$ \hspace{7pt} $ \A = \frac{1+\sqrt5}2.$
\spa

$Tr(x+y\sqrt5) = 2x$


\begin{proof}
Lemma 3.2.4

	Assume $\bba $ is not an integral basis, then there exists an algebraic integer $\Phi = y_1b_1 + \dots + y_db_d $\hspace{7pt}  $y_i \in \Q$, $y_i$ not all in $\Z$.
\spa

Let $N$ be the lowest common denominator of $y_1, \dots, y_d$.
	Replace $\Phi$ by $\frac{N}{p} \Phi$ where $p$ is prime.
\spa

The denominators are the prime $p$ factor of $N$. 
\spa

Let $\Psi =  \lfloor y_1 \rfloor b_1 + \dots + \lfloor y_d \rfloor b_d \in \ring_k$.
\spa

$\theta = \Phi - \Psi \in \ring_k$
\spa

	The coefficients of $\theta $ are in $[0,1)$, not all 0 and with denominator $p$.
	\begin{align*}
		\theta = \cfrac{x_1b_1 + \dots + x_db_d }{p} &&& x_i \in \{0,\dots,p-1\} 
	\end{align*}
	
	Suppose $x_i \neq 0$, let $\mathcal{C}$ be the new basis with $b_i$ replaced by $\theta$.

	The new transition matrix is:
	\begin{align*}
		c_1 &= b_1\\
		c_2 &= b_2\\
		&\vdots  \\ 
		c_i &= \frac{x_i}pb_i + \dots + \frac{x_d}pb_d
		 &&&&&M = 
		\begin{pmatrix}
			1&&&\frac{x_1}{p}&&\\
			&1&&&&\\
			&&\ddots&\vdots&&\\
			&&&\frac{x_i}{p}&&\\
			&&&\vdots&\ddots&&\\
			&&&\frac{x_d}{p}&&1
		\end{pmatrix}
		\text{(0s elsewhere) }\
		\\
		&\vdots \\
		c_d & = b_d
	\end{align*}
\spa

	So $\dd \mathcal{C}  = \det(M)^2 \dd \bba = (\frac{x^i}{p})^2 \dd \bba$
	\begin{align*}
		p^2 \dd \mathcal{C} = x_i^2 \dd \bba && x_i \in \{1,\dots, p-1 \}, \text{ } x_i \text{ coprime to } p^2 \text{ and } p^2 | \dd \bba
	\end{align*}
\end{proof}
\spa
We found an integral basis, $1, \frac{1+\sqrt5}{2}$ in $\Q(\sqrt5)$.
\spac
We'll see methods which will find an integral basis in $\Q(\A)$.

\textbf{E.g.} $\A^8 - 2 = 0$, we need better methods for calculating discriminants.

\begin{lemma}
	If $\{b_1, \dots, b_d\}$ is any basis then $\dd \{b_1, \dots, b_d \} = \det \begin{pmatrix}
		\sigma_1(b_1) &\dots & \sigma_d(b_1)\\
		\vdots && \vdots\\
		\sigma_1(b_d) &\dots & \sigma_d(b_d)
	\end{pmatrix}^2$

	Here $\sigma_1, \dots, \sigma_d : k \mapsto \C $ are field embeddings.
\end{lemma}
\textbf{E.g.} $k= \Q(\sqrt{n})$ $n$ not a square

\begin{align*}
	\dd\{1,\sqrt{n}\} = \det \begin{pmatrix}
	1&1\\
		\sqrt{n}&-\sqrt{n}
	\end{pmatrix}^2 = (-2\sqrt{n})^2 = 4n
\end{align*}

If $n$ is square free then the only primes to consider in the algorithm is $p=2$. 
So we'd consider the elements $\frac{1}{2} ,\frac{\sqrt{n}}2, \frac{1+\sqrt{n}}2$.


\begin{proof}
	\begin{align*}
		&
		\begin{pmatrix}
			\sigma_1(b_1) &\dots & \sigma_d(b_1)\\
			\vdots && \vdots\\
			\sigma_1(b_d) &\dots & \sigma_d(b_d)
		\end{pmatrix}
		\begin{pmatrix}
			\sigma_1(b_1) &\dots & \sigma_d(b_1)\\
			\vdots && \vdots\\
			\sigma_1(b_d) &\dots & \sigma_d(b_d)
		\end{pmatrix} 
		\\[2em]
		& = \begin{pmatrix}
			\sigma_1(b_1b_1) + \sigma_2(b_1b_1) + \dots \sigma_d(b_1b_1)  &\dots & \sigma_d(b_1b_d) + \dots + \sigma_d(b_1b_d) \\
			\vdots && \vdots\\
			\sigma_1(b_db_1) + \dots + \sigma_d(b_db_1) &\dots & \sigma_d(b_db_d) + \dots + \sigma(b_db_d)
		\end{pmatrix}
		\\[2em]
		& =\begin{pmatrix}
			Tr(b_1b_1)  & \dots & Tr(b_1 b_d)\\
			\vdots &\ddots& \vdots\\
			Tr(b_db_1) &\dots & Tr(b_db_d)
		\end{pmatrix} 
	\end{align*}
	Take determinant of both sides $\det (\sigma_i(b_j))^2 = \dd \bba$
\end{proof}
\spa
Next we'll look at $\dd \{1, \A, \A^2, \dots, \A^{d-1} \}$, $k = \Q(\A)$



\begin{prop}
	Let $\A_1, \dots, \A_d$ be the conjugate of $\A$ in $\C$. Then $\dd \{1, \dots, \A^{d-1} \} = \displaystyle \prod^{d}_{i,j = 1 \text{ }\\ i<j} (\A_i - \A_j)^2$
\end{prop}

\begin{proof}
By the previous lemma
	\begin{align*}
		\dd &= \det \begin{pmatrix}
			\sigma_1(1) &\dots & \sigma_1(\A^{d-1})\\
			\vdots & \ddots & \vdots \\
			\sigma_d(1) &\dots & \sigma_d(\A^{d-1})
		\end{pmatrix}^2 && \sigma_i(\A) = \A_i\\[1em]
		&= \det \begin{pmatrix}
			1 & \A_1 & \A_1^2 & \dots & \A_1^{d-1}\\
			\vdots &\ddots & &&\vdots\\
			\vdots & &\ddots &&\vdots\\
			1 & \A_d & \A_d^2 & \dots & \A_d^{d-1}
		\end{pmatrix}\\[1em]
		& = \Bigg( \pm \prod^d_{i,j = 1 \text{ }i<j} (\A_i - \A_j)\Bigg)^2
	\end{align*}
\end{proof}

\begin{prop}
	$\dd \{1,\A, \dots, \A^{d-1} \} = (-1)^{\frac{d(d-1)}{2}} N(m'(\A))$ where $m$ is the minimal polynomial of $\A$, $m'(x)$ is the derivative.
\end{prop}
\spa
\textbf{E.g.} Let $k = \Q(\A)$ where $\A^8 - 2 = 0$
\spa

$m_\A(x) = x^8-2$ \hspace{7pt} (Eisenstein's criterion with $p=2$)
\spa

$m_\A'(x) = 8x^7$
\spa

By the proposition:
\begin{align*}
	\dd \{1, \A, \dots, \A^7 \} &= (-1)^{\frac{8*7}{2}} N(8\A^7)\\
	&=  (-1)^{\frac{8*7}{2}} N(8)N(\A)^7\\
	&= 1 * 8^8 * -2^7\\
	&= -2^{31}
\end{align*}

\begin{align*}
	N(\B) = \det(A_\B) = \begin{pmatrix}
		8 & & &\\
		& 8 & &\\
		&&\ddots & \\
		&&&8
	\end{pmatrix} \text{(0}s \text{ elsewhere)}
\end{align*}

\begin{align*}
	N(\A) &= \A_1 \dots \A_8\\
	&= \text{constant term in } m_\A(x) = (x-\A_1) \dots (x-\A_8)\\
	&= -2 
\end{align*}

\begin{proof}
	From the previous proposition:
	\begin{align*}
		\dd &= \prod^d_{i,j=1 \text{ } i<j} (\A_i - \A_j)^2\\
		&= \prod^d_{i,j=1 \text{ } i<j} (\A_i - \A_j)*(\A_j - \A_i)*-1 && \text{\# of terms = } \frac{d(d-1)}{2}\\
 &= (-1)^\frac{d(d-1)}{2}\prod^d_{i,j=1 \text{ } i\neq j} (\A_i - \A_j)\\
	\end{align*}
	
	$m(x) = (x- \A_1) (x-\A_2) \dots (x-\A_d) $.
	\spa
	\begin{align*}
		m'(x) &= (x-\A_2) \dots (x-\A_d) + (x-\A_1)(x-\A_3)\dots (x-\A_d) + \dots + (x-\A_1) (x-\A_{d-1})\\
		&= \sum_{i=1}^d \hspace{7pt}\prod_{j \neq i} (x-\A_j)
	\end{align*}
	\begin{align*}
		m'(a_k) = \sum^d_{i=1} \hspace{7pt} \underbrace{\prod_{j\neq i}(\A_k - \A_j) }_{ = 0 \text{ unless } i=k}
	\end{align*}
	\begin{align*}
		N(m'(\A)) &= \prod_i \sigma_i(m'(\A))\\
		&= \prod_i m'(\A_i)\\
		&= \prod_i \hspace{7pt} \prod_{j \neq i} (\A_i - \A_j)
	\end{align*}
	\spa

	Therefore $\dd = (-1)^\frac{d(d-1)}{2} N(m'(\A))$.
\end{proof}
\spa
\textbf{Note: } $F(x) = \Big(x-\sigma_1(\theta)\Big)\dots \Big(x-\sigma_d(\theta) \Big) = x^d - Tr(\theta)x^{d-1} + \dots + (-1)^d N(\theta)$

\subsection{Quadratic Fields}
$k = \Q(\sqrt{n}) $ for $n \neq 1$ and square-free.

\begin{theorem}
	$\ring_k = \Z[\A] $ where $\A \begin{cases}
		\sqrt{n} & d \not \equiv 1\hspace{7pt} (4)\\
		\frac{1+\sqrt{n}}2 & d \equiv 1 \hspace{7pt} (4)
	\end{cases}$, and $\{1, \A \}$ is an integral basis, then
	\begin{align*}
		\dd\{1,\A\} = \begin{cases}
			4n & n \not \equiv 1 \hspace{7pt} (4)\\
			n & n \equiv 1 \hspace{7pt} (4)\\ 
		\end{cases}
	\end{align*}
\end{theorem}
\begin{proof}
	Suppose $n \not \equiv 1 \hspace{7pt} (4) $ and let $\bba  =\{1, \sqrt{n} \}$
	\begin{align*}
		\dd \bba &= \det  \begin{pmatrix}
			\sigma_1(1) & \sigma_1(\sqrt{n})\\
			\sigma_2(1) & \sigma_2(\sqrt{n})
		\end{pmatrix}^2
		\\[1em]
		&= \det \begin{pmatrix}
			1 & \sqrt{n}\\
			1 & -\sqrt{n}
		\end{pmatrix}\\
		&= 4n
	\end{align*}

	In the algorithm we get $p=2$, the only prime whose square divides 4n. 
\spa

	$\theta = \frac{1}{2}, \frac{\sqrt{n}}{2} $ or $\frac{1+\sqrt{n}}{2}$ 
\spa

	We know $ \frac{1}{2} \not \in \ring_k$ and $N(\frac{\sqrt{n}}{2}) = -\frac{n}{4} \not \in \Z$ because $n$ is square free so $\frac{\sqrt{n}}{2} \not \in \ring_k $.
\spa

	Also $N(\frac{1+\sqrt{n}}{2}) = \frac{1}{4}^{-n} \not \in \Z$ so $ \frac{1+\sqrt{n}}{2} \not \in \ring_k $ so $\{1, \sqrt{n} \}$ is an integral basis.
	\spa

	Suppose  $n \equiv 1 \hspace{7pt} (4) $ so $\frac{1+\sqrt{n}}{2} \in \ring_k$. Then $\bba = \{1, \frac{1+\sqrt{n}}{2} \}$ and $\dd \bba = \det \begin{pmatrix}
		1 & \frac{1+\sqrt{n}}2\\
		1 & \frac{1-\sqrt{n}}2
	\end{pmatrix}= n$ 
\spa

Since $n$ is square free $\bba $ is an integral basis, there are not primes whose square divides $\dd \bba $.


\end{proof}



\subsection{Cubic Fields}
Suppose $k$ is a cubic field, i.e. $[k : \Q] = 3$. 
Let $k = \Q (\A) $ with $m_\A(x) = x^3 + cx^2 +\dots$

If we let $\B = \A + \frac{c}3$ so $k = \Q(\B) $, the minimal polynomial of $\B$ has no $x^2$ term
\begin{align*}
	m_\B(x) &= m_\A(x- \frac{c}{3})\\
	& = (x- \frac{c}{3}^3 + c(x-\frac{c}{3})^2 + \dots\\
	& = x^3 - cx^2 + \dots +cx^2 + \dots 
\end{align*}
Let's assume that the minimal polynomial of $\A$ is $x^3 + ax + b$.

\begin{prop}
	$\dd \{1, \A, \A^2 \} = -27b^2 - 4a^3$	
\end{prop}
\spa
We can use this to find an integral basis in $k$.
\spac
\textbf{E.g.} $m_\A(x) = x^3 + x+ 1$
\spa

$m(1) \neq 0 $ and $m(-1) \neq 0 $ so $m_\A$ is irreducible.
\spa

$k = \Q(\A)$ is a cubic field, $\dd \{1, \A, \A^2 \} = -27-4 = -31$.
\spa

This is square free so $\{ 1, \A, \A^2 \}$ is an integral basis i.e. $\ring_k = \Z[\A]$.
\spac
\textbf{E.g.} $m_\A(x) = x^3 -2x + 3.$ 
\spa

It is irreducible since plugging in $\pm1, \pm 3$ does not give 0.
\spa

By the proposition $\dd \{ 1, \A, \A^2 \} = -27b^2 - 4a^3 = -243+32=-211$.
\spa

211 prime so $\{1, \A, \A^2 \}$ is an integral basis i.e. $\ring_k = \Z[\A]$.

\begin{proof}
	\spac

	$m_\A(x^3) = x^3+ax+b$ and we proved last time that $\dd\{1, \A, \dots, \A^{d-1}\} = (-1)^{\frac{d(d-1)}{2}}N(m'(\A))$.
\\
	
	$m'(x) = 3x^2 + a$
	\spa

	$\dd \{1, \A, \A^2 \} = -N(3\A^2 + a)$
	\spa

	Let $\A, \B, \G \in \C$ be the conjugates of $\A$, $m(x) = (x-\A) (x-\B) (x-\G)$.
\spa

	By comparing coefficients:
	\begin{itemize}
		\item{$\A + \B + \G= 0$}
		\item{$\A\B + \B\G + \G\A = a$}
		\item{$\A\B\G = -b$}
	\end{itemize}

	\begin{align*}
		\dd\{1, \A, \A^2 \} &= -N(3\A^2+a)\\
		& = -(3\A^2 + a)(3\B^2 + a)(3\G^2 + a)\\
		& = -(27\A^2\B^2\G^2 + 9a(\A^2\B^2 + \B^2\G^2 + \G^2\A^2) + 3a^2(\A^2 + \B^2 + \G^2 ) + a^3)
	\end{align*}
	Using 
	\begin{align*}
		\A^2\B^2\G^2 &= b^2\\
		\A^2  + \B^2 + \G^2 &=\underbrace{\A+\B+\G}_{0} - \underbrace{2(\A\B+ \B\G + \G\A)}_{a} = -2a\\
		\A^2\B^2 + \B^2\G^2 + \G^2\A^2 &= (\A\B + \B\G + \G\A)^2 - 2(\A\B\B\G + \B\G\G\A + \G\A\A\B ))\\
		&= a^2 - 2\A\B\G(\A+\B+\G)
	\end{align*}

	$\dd \{ 1,\A, \A^2 \} = -27b^2 + 9aa^2 + 3a^2(-2a) + a^3 = -27b^2 -4a^3$
\end{proof}


\begin{prop}
	Suppose $m_\A(x)$ satisfies Eisenstein's criterion with prime $p$.
	
	Let $\ttt = \cfrac{x_0 + x_1\A + \dots+ x_d\A^d}{p}$ for $x_i \in \{0,\dots,p-1\}$ not all 0.

	Then $\ttt$ is not an algebraic integer.
\end{prop}


\begin{proof}
Assume $\ttt \in \ring_k$, let $x_i$ be the first non-zero coefficient.

	\begin{align*}
		\ttt = \frac{x_i\A^i + x_{i+1} \A^{i+1} + \dots + x_{d-1} \A^{d-1}}{p}
	\end{align*}
	
	Multiply by $\A^{d-i-1}$:
	\begin{align*}
		\A^{d-i-1}\ttt = \cfrac{x_i \A^{d-1} + \text{ multiples of } \A^d }{p}
	\end{align*}
	
	By Eisenstein's criterion $\A^d$ is a multiple of $p$ in $\ring_k$:
	\begin{align*}
	\underbrace{\A^{d-i-1} \ttt}_\text{ an algebraic integer} = \frac{x_i\A^{d-1}}{p} + \text{ an algebraic integer}
	\end{align*}

	$\therefore$ $\frac{x_i \A^{d-1}}{p} $ is an algebraic integer. So $N(\frac{x_i\A^{d-1}}p) \in \Z$.
\spa

	But $N(\frac{x_i\A^{d-1}}p) = \cfrac{x_i^d N(\A)^{d-1}}{p^d}$ but $x_i \in \{1, \dots, p-1\}$ coprime to $p$.

	Also by Eisenstein's criterion $N(\A)$ is not a multiple of $p^2$, only a multiple of $p$. 

	Therefore $x_i^d N(\A)^{d-1} $ is a multiple of $p^{d-1}$ but not $p^d$. \lightning
\end{proof}
\spa
\textbf{E.g.} Let $k = \Q(\A)$  $\hspace{7pt} \A = 2^{\frac{1}{8}}$ \hspace{7pt} $m(x) = x^8 -2$
\begin{align*}
	\dd\{1,\A,\dots, \A^7\} &= (-1)^\frac{d(d-1)}{2} N(m'(\A))\\
	&= 1* N(8\A^7 ) \\
	&=8^8 *\underbrace{N(\A)^7}_{-2} \\
	&= -2^{31}
\end{align*}
\textbf{E.g.} Let $k = \Q(\A)$\hspace{7pt} $\A$ has minimal polynomial $m(x) = x^3 + 4x+2$
\spa

Irreducible by Eisenstein's criterion with $p=2$
\begin{align*}
	\dd\{ 1, \A, \A^2 \} &= -27b^2 - 4a^3\\
	&=-27*4 - 4*64\\
	& = 2^2 * 7* 13
\end{align*}

The only prime whose square divides this is $p=2$. Therefore $\{1, \A, \A^2 \}$ is an integral basis i.e. $\ring_k = \Z[\A]$.
\spac
\textbf{E.g.} Let $k = \Q(\A) $ with minimal polynomial $m(x) = x^3-2$.

$\dd \{1,\A, \A^2 \} = -27b^2 - 4a^3$. $a=0, b=-2, \A=2^{\frac{1}{3}}$
\spa

If $p=2,3$ then $p^2 | \dd\{1,\A,\A^2 \}$, by the proposition we can forget about 2.
\spa

$m(x-1) = x^3-3x^2+3x-3$
\spa

$m(x+2) = x^3+6x^2 +12x+6$ satisfies Eisenstein's criterion for $p=2,3$
\spa

$m(x+2) $ is the minimal polynomial of $\A-2 =\B$ and $\dd\{ 1,\B, \B^2\} = \dd\{1,\A,\A^2 \} = -2^3*3^3$
\spac
\begin{prop} Suppose $\B = \A+1$ for $x \in \Q$, then $\dd\{1,\B, \B^2, \B^{d-1} \} = \dd\{ 1, \A, \dots, \A^{d-1} \}$ 
\end{prop}

By the proposition we can forget about $2 $ and $3$, so $\{1,\B,\B^2\}$ is an integral basis.

$\therefore \ring_k = \Z[\B] = \Z[\A-2] = \Z[\A]$

$\therefore \{1,\A,\A^2 \}$ is also an integral basis.

\begin{proof}
	$m_\B(x) =m_\A(X-x)$.

	By the chain rule:
	\begin{align*}
		m_\B(x) &= m_\A(X-x)\\
		m_\B(\B)&= m_\A'(\B-x) = m_\A'(\A)\\[1em]
		\dd\{ \B^i \} &= (-1)^\frac{d(d-1)}{2} N(m'_\B(\B)) = \dd\{\A^i\}
	\end{align*}
\end{proof}

\subsection{Cyclotomic Fields}

$\zeta = e^{\frac{2 \pi i}{n}}$ is the $n^{th}$ primitive root of unity.

\begin{theorem}
	The minimal polynomial of $\zeta$ is the cyclotomic polynomial $\Phi_n$ with degree $\phh(n)$.
\end{theorem}

\begin{proof}
	Easy to prove when $n$ is a power of a prime. 
	$\Phi_{n+1} (x)$ will satisfy Eisenstein's criterion.
	For $n=p^a$:

	\begin{align*}
		\A^{p-1} &= \prod_{d|p^a} \Phi_d(x)\\
		&= \underbrace{\Phi_1 \Phi_p \dots \Phi_{p^{a-1}}}_{x^{p^{a-1}}-1} \Phi_{p^a}
	\end{align*}
	\begin{align*}
		\Phi_{p^a}(x) = \frac{x^{p^a}-1}{x^{p^{a-1}}-1} = \underbrace{1 + x^{p^{a-1}} + \dots + x^{(p-1)p^{a-1}}}_{p \text{ terms}}
	\end{align*}
	Claim $\Phi_{p^a}(x+1)$ satisfies Eisenstein's criterion with the prime $p$.

	\begin{align*}
		(x^{p^{a-1}}-1) \Phi_{p^a}(x) &= x^{p^a}-1\\
		((x+1)^{p^{a-1}}-1)&=(x+1)^{p^a} -1\\
		(x^{p^{a-1} }+ 1^{p^{a-1}}-1)&\equiv x^{p^a} + 1^{p^a} -1 \hspace{7pt} (p) \textbf{\hspace{7pt}(*)}\\
		\Phi_{p^a}(x+1) &= x^{p^a - p^{a-1}}\hspace{7pt} (p)
	\end{align*}
	\textbf{(*)} Using that in any ring $(a+b)^p \equiv a^p + b^p \hspace{7pt} (p) $ and by induction 
	\spa

	$(a+b)^{p^n} \equiv a^{p^n} + a^{p^n} + b^{p^n} \hspace{7pt} (p)$

	So all coefficients apart from the leading coefficient are multiples of $p$. Constant coefficient of $\Phi_{p^n}(x+1)$ is $\Phi_{p^a}(1) = 1 + 1^{p^{a-1}} + 1^{2p^{a-1}} + \dots + 1^{(p-1)p^{a-1}} = p$.
\spa

	This is not a multiple of $p^2$ and so $\Phi_{p^a}(x+1)$ satisfies Eisenstein's criterion.

\end{proof}



\begin{theorem}
	Let $k =\Q(\z) $ and $\z=e^{\frac{2 \pi i}{n}}$ then $\ring_k = \Z[\z ]$
\end{theorem}

\begin{proof}
Only in the case where $n=p$ is a prime number.

Notation, let $\lambda = \z - 1$.

	Recall that $m_\lambda(x) = \Phi_p(x+1)$ which satisfies Eisenstein's criterion with the prime $p$.

\end{proof}
\begin{lemma}
	$N(\z) = 1$, $ N(\lambda) = p$, $ [k:\Q] = p-1$
\end{lemma}

\begin{proof}
	Minimal polynomial of $\z$ is $\Phi_p(\A) = 1 + \A + \dots + \A^{p-1} = \frac{x^p -1}{x-1}$

	$N(\z) = (-1)^{p-1} * \Phi_p(0) = 1$
\spa
	
	$[k:\Q] = deg(\Phi_p) = p-1$
\end{proof}


\begin{theorem}
	Let $k = \Q(\z) $, $\z  = e^{\frac{2 \pi i}{n}}$ then $\ring_k = \Z[\z]$
\end{theorem}
\begin{proof}
When $n$ is prime 
	\begin{align*}
		\dd \{1, \lambda, \dots, \lambda^{p-2} \} &= \dd \{ 1, \z, \dots, \z^{p-2} \}  &\text{ by the useful trick }\\
		& = (-1) ^{\frac{d(d-1)}{2}} N(\Phi'_p(\z))\\
		& = (-1) ^{\frac{p-1}{2}} N(\Phi'_p(\z))
	\end{align*}

	\begin{align*}
		\Phi_p(x) &= \frac{x^p-1}{x-1}\\
		\Phi_p'(x)&= \frac{px^{p-1}(x-1) - x(x^p-1)}{(x-1)^2} \\[1em]
		\Phi_p'(\z) &= \frac{p\z^{p-1} \lambda - \overbrace{\z^p - 1}^{0}}{\z^2} \\
		&= \frac{p\z^{p-1}}{\lambda}
	\end{align*}
	\begin{align*}
		\dd\{1, \z, \dots, \z^{p-2} \} = (-1) ^{\frac{p-1}{2}} \frac{p^{p-1}}p = (-1)^{\frac{p-1}2} p^{p-2}
	\end{align*}

	The only prime whose square divides this is the prime $p$ but $m_\lambda$ satisfies Eisenstein's criterion with $p$, therefore $\{1, \lambda, \dots, \lambda^{p-2} \}$  is an integral basis.

	So $\ring_k = \Z[\lambda]  = \Z[\z] \implies \{1, \z, \dots, \z^{p-2} \}$ is an integral basis.
\end{proof}
\spa
The proof generalises to the case $n=p^a$ but not to general $n$.

\spa
\textbf{E.g.} $n=2$ 
\begin{align*}
	k &=\Q(\z_{20}) \hspace{150pt} \z_{20} = e^{\frac{2\pi i }{20}}\\
	 m&=\Q(\z_5) \hspace{150pt} \z_5 =e^{\frac{2 \pi i}{5}} = \z^4_{20}\\
	 \Q&
\end{align*}
We can prove using $\dd \{1, \z_5, \z_5^2, \z_5^3 \}$ that $\{ 1, \z_5, \z_5^2, \z_5^3 \}$ is an integral basis in $m$. 
We can also define the discriminant of a basis is for k as vector space over $m$.

$\dd_{k/m} \{1, i\} = -4$
\spac
\textbf{Useful Trick:} $N(x-\A) = m(x)$


\section{Factorisation in Rings of Algebraic Integers}
Let $k$ be a number field, $\ring_k$ might or might not have unique factorisation but $\ring_k$ has unique factorisation if ideal. 

\spa
The main tool for splitting factors of elements in $\ring$ is the norm, $N(AB) = N(A)N(B)$.

This shows that $\underbrace{A | B}_\text{in $\ring$} \implies \underbrace{N(A)|N(B)}_\text{in $\Z$} $ 

\begin{prop}
	For any $A \in \ring$, $A|N(A)$
\end{prop}

\begin{proof}
	Want to show that $\frac{N(A)}{A}$ is an algebraic integer.
\spa

	If $\sigma_1(A) = A$ then $\frac{N(A)}A = \sigma_2(A)\dots\sigma_d(A)$ and each $\sigma_i(A)$ is an algebraic integer so $\frac{N(A)}{A}$ is an algebraic integer.
\end{proof}


\begin{cor}
	Let $A \in \ring$. Then $A$ is a unit iff $N(A) = \pm 1$
\end{cor}
\begin{proof}
	$(\implies)$ $A$ is a unit $\implies A|1 \implies N(A) | N(1) = 1 \implies N(A) = \pm 1$
\spa

	$(\Longleftarrow)$ If $N(A) = \pm 1 \implies A| \pm 1 \implies A$ is a unit
\end{proof}


\begin{cor}
	Let $A \in \ring$. If $N(A) = \pm p $ then $A$ must be irreducible.
\end{cor}

\begin{proof}
	Suppose $A= BC$, $N(B)N(C) = \pm p \implies N(B)$, $N(C) = \pm 1$. So $B$ or $C$ is a unit
\end{proof}
\spa
There are also many irreducible elements whose norm is not prime, 
\spac 
\textbf{E.g.}
$\ring = \Z[i]$, $ k = \Q(i)$.
\spa

Let $p = 2+3i$, $N(p) = 2^2+3^2 = 13$, so $2+3i$ is irreducible by corollary.
\spac
\textbf{E.g.} Let $Q=3$, then $N(Q) = 9$ but $Q$ is also irreducible.

This is because there are no elements of norm $3$, $N(x+iy) = x^2+ y^2 = 3$ \lightning



\begin{prop}
Let $A \in \ring$ and not a unit, then $A= P_1\dots P_r$ for irreducible elements $P_i$ 
\end{prop}
\begin{proof}
	By induction on $|N(A)|$. If $|N(A)| = 2$ then $A$ is irreducible.
	\spa

	Suppose true for elements $B$ with $|N(B)<|N(A)|$
	\spa

	If $A$ is irreducible then we're done, if not then $A=BC$ and $|N(B)<|N(A)|$, $|N(C)<|N(A)|$.

	So $B$ and $C$ factorise into irreducibles hence so does $A$.
\end{proof}
\spa
\textbf{Examples of non unique factorisation}

$k = \Q(\sqrt{-10})$, \hspace{7pt} $-10 \equiv 1 \hspace{7pt} (4) $
\spa

So $\ring = \Z[\sqrt{-10}] $
\spa

Note that $10 = 2*5 = \sqrt{10} * \sqrt{-10}$ and $2, 5, \pm 10$ are all irreducible.
\spa

$N(2) = 4$

$N(5) = 25$

$N(\pm \sqrt{10} ) = \sqrt{-10}*-\sqrt{-10}$ = 10
\spa

Are there any elements with norm 2 or 5?
\spa

$N(x+y\sqrt{-10}) = x^2 + 10y^2 \neq \pm 2$ or $\pm 5$
\spa

$\Z[\sqrt{10}]$ does not have unique factorisation, although 2,5 $\sqrt{-10}$ are all irreducible elements. 

The ideals $(2)$, $(5)$, $(\sqrt{-10})$ all factorise.
\spa

Although $2$, $\sqrt{-10}$ are coprime as elements and the only common factor is a unit, it's not true that:
\begin{align*}
	1 = H*2 + K*\sqrt{-10} \hspace{7pt} \text{for } H,K \in \Z[\sqrt{-10}]
\end{align*}

i.e. $(2, \sqrt{-10}) \neq \Z[\sqrt{-10}]$
\spa

Let $ P= (2, \sqrt{-10})$ and $Q = (5, \sqrt{-10})$ 

\begin{align*}
	P^2  &= (2, \sqrt{-10}) * ( 2, \sqrt{-10}) \hspace{100pt}& Q^2 &=(5, \sqrt{-10})*(5, \sqrt{-10})  \\
	& = (2*2, 2*\sqrt{-10}, -10)   && = (25, 5\sqrt{-10}, -10 )\\
	& = (4, -10, 2\sqrt{-10}, 2) &&=(25, 5\sqrt{-10}, -10, 5)\\
	& = (2) && =(5)
\end{align*}
\begin{align*}
	PQ &= (10, 2\sqrt{-10}, 5, \sqrt{-10} , -10 )\\
	& = (10, 2\sqrt{-10}, 5, 5\sqrt{-10}, -10 ,\sqrt{-10})\\
	& = (\sqrt{-10} )
\end{align*}

Recall $10 = 2*5 = \sqrt{-10} * \sqrt{-10} $ in terms of ideals.

$(10) = (2)(5) = (-\sqrt{10})^2 = P^2 Q^2 = (PQ)^2$ 
\spac
Often $\ring$ is not a UFD and not a PID.
\spac

Instead of factorising elements of $\ring$, we factorise ideals.

\begin{theorem}
	Let $I$ be a non-zero ideal of $\ring$, then there exists maximal ideals $P_1, \dots, P_r$ of $\ring$ unique up to reordering such that $I= P_1 \dots P_r$.
\end{theorem}
\spa
The proof will involve:

\begin{itemize}
	\item{The norm of an ideal, this is useful for factorising an ideal}
	\item{It will also give us a way of proving theorems about ideals by induction}
\end{itemize}

\begin{defn}
Let $I \subset \ring$ be a non-zero ideal. 
	The norm of $I$ is $N(I) = | \ring/I | $
\end{defn}

\begin{prop}
	If $I$ is a non-zero ideal of $\ring$ then $N(I)$ is finite.
\end{prop}

\begin{proof}
	Choose a non-zero element $\B \in I \implies (\B)  \subseteq I \implies |\ring / (\B) | \geq |\ring / I|$
\end{proof}

\begin{prop}
	If $\B \in \ring$ is non-zero then $\underbrace{N\Big((\B)\Big)}_\text{norm of ideal}  = \underbrace{|N(\B)|}_\text{norm of element}$
\end{prop}


\begin{lemma}
	(From Commutative Algebra)

	Let $A$ be a $d \times d$ matrix with entries in $\Z$ and $\det(A) \neq 0$.
	Then $| \Z^d /A\Z^d| = |\det(A)|.$
\end{lemma}

\begin{proof}
	(Prop 4.8)

	Let $\B$ be an integral basis, this gives us an isomorphisms of additive groups, $\Z^d \cong \ring$.

	\begin{align*}
		\begin{pmatrix}
x_1\\
\vdots\\
x_d
		\end{pmatrix} \mapsto x_1b_1 + \dots + x_db_d
	\end{align*}
	
	Multiplication by $\B$ on $\ring$ corresponds to multiplication by $A_\B$ on $\Z^d$ where $A_\B$ is the standard representation with respect to $\B$.
\spa

	Then $\Z^d / A_\B \Z^d \cong \ring /(\B)$.
\spa

	So by the lemma:
	\begin{align*}
	N\Big((\B)\Big) & = |\ring/ (\B) |\\
		& = | \Z^d / A_\B \Z^d|\\
		& = |\det(A_\B) |\\
		& = |N(\B)|
	\end{align*}
\end{proof}


\begin{proof}
	(Sketch of lemma)

	We can do integer row and column operations to $A$ to reduce it to diagonal form.
	\spa

	$A = PDQ$ \hspace{7pt} $P,Q$ are integer matrices with determinant:

	\begin{align*}
		D = \begin{pmatrix}
			e_1&&\\
			&\ddots&\\
			&&e_d
		\end{pmatrix} && P\Z^d &= \Z^d\\
		&& Q\Z^d &= \Z^d
	\end{align*}

	\begin{align*}
		\Z^d / a\Z^d & = \Z^d / PD\underbrace{Q \Z^d}_{\Z^d}\\
		&= P\Z^d/ PD\Z^d\\
		&= \Z^d / D\Z^d\\
		&\equiv \Z/e_1\Z \times \dots \times \Z/e_d\Z\\[1em]
		|\Z^d / A\Z^d | &= |e_1 \dots e_d|\\
		&=|\det(D)|\\
		&= |det(A)|
	\end{align*}
\end{proof}

\subsection{Prime ideals and Maximal ideals}

Let $R$ be any commutative ring with 1.
An ideal $P \subseteq R$ is called a prime ideal if:

\begin{itemize}
	\item{$P\neq R$}
	\item{If $xy \in P \implies x \in P $ or $y \in P$}
\end{itemize}
\spa
Recall $R$ is an integral domain if:
\begin{itemize}
	\item{$1 \neq 0 $ in $R$}
	\item{If $xy = 0 $ then $x= 0$ or $y=0$}
\end{itemize}


\begin{prop}
Let $P$ be an ideal in $R$ then $P$ is prime $\iff$ $R/P$ is an integral domain.
\end{prop}

\begin{proof}
	\begin{align*}
		P \neq R &\iff 1 \in P\\
		& \iff 1 \neq 0 \hspace{7pt} (P) \hspace{7pt} \text{ 1 and 0 are different in }R/P
	\end{align*}
	\begin{align*}
		xy \equiv 0 \hspace{7pt} (P) \iff xy \in P
	\end{align*}
	\begin{align*}
		x \equiv 0 \hspace{7pt} (P) \text{ or } y \equiv 0 \hspace{7pt} (P) \iff x \in P \text{ or }  y \in P
	\end{align*}
\end{proof}


\begin{prop}
Recall $I \subseteq R$ is maximal $\iff R/I$ is a field 
\end{prop}
\begin{cor}
Every maximal ideal is prime
\end{cor}

\begin{proof}
Every field is an integral domain.
\end{proof}
\spa
There are prime ideals which are not maximal.
\spac
\textbf{E.g.} $(0) \subseteq \Z$ is a prime ideal but not maximal, $\Z/(0) \cong \Z $ which is an integral domain but not a field
\spac
\textbf{E.g.} $(x) \subseteq \C[x,y]$ is prime but not maximal, $\C[x,y] /(x) \cong \C[y] $ is an integral domain but not a field.

$f(x,y) \mapsto f(0,y)$
\spac
Recall every finite integral domain is a field.

\begin{cor}
	If $P$ is a prime ideal in $\ring$ then either $P=(0)$ or $P$ is maximal.
\end{cor}
\begin{proof}
	Suppose $P$ is a non-zero prime ideal $\ring_k/P$ is an integral domain and is finite because $N(P)$ is finite.

	Therefore $\ring_k/P$ is a field so $P$ is maximal.
\end{proof}

\begin{proof}
	(of proposition)

	Let $R$ be a finite integral domain.
	Let $x \in R$ with $x\neq 0$.

	The powers $x^n$ are not all distincts.
\spa

	This implies $x^n = x^{n+m}$ for some $m, n$.
	\spa

	By the cancellation property $1 = x^m$.
\spa

	Therefore $x^{m-1}$ is an inverse of $x$.
\end{proof}


\begin{lemma}
Let $I \subseteq R$ be an ideal, then $I$ is prime iff:
	\begin{itemize}
		\item{$I \neq R$}
		\item{Suppose $JK \subset I$ for ideals $J,K$, then $J \subseteq I$ or $K \subseteq I$}
	\end{itemize}
\end{lemma}


\begin{defn}
A prime ideal is one such that:

	\begin{itemize}
		\item{$I \neq R$}
		\item{$xy \in I \implies x \in I $ or $y \in I$}
	\end{itemize}
\end{defn}										    									    
\begin{proof}
	$(\implies)$ 
	\spa

	Assume $I$ is prime and assume $J \subseteq I$.
	We'll show that $K \subseteq I$.

	Choose $x \in j $\textbackslash$ I$.
	\spa

	For $y \in K$ we have $xy \in JK \subseteq I \implies y \in I$.
	\spac 
	$(\Longleftarrow)$
	\spa

	Assume the property of the lemma, suppose $xy \in I$. Then $(x)(y) = (xy) \subseteq I$.

	By the property in the lemma $(x) \subseteq I$ or $(y) \subseteq I$, so $x \in I$ or $y \in I$
\end{proof}
\spa							    					    
\textbf{Remark}: Suppose $M_1, \dots M_r $ and $M'_1, \dots M'_s$ are maximal ideals and $M_1 \dots M_r = M'_1 \dots M'_s $.

Also 
$M_1 \supset M'_1 \dots M'_s$ but $M_1$ is prime so by the lemma, 
$M_1 \supseteq M'_i$ for some $i$ and without loss of generality, $M \supseteq M'_1$.


\subsection{Fractional Ideals and Unique Factorisation}
If $M_1\dots M_r = M'_1\dots M'_s$ then $M_1 = M'_i$ for some $i$, we want a way of cancelling ideals in order to prove uniqueness of factorisation.
To give ideal inverses we need something more general than an ideal.

\begin{defn}
Let $k$ be a number field, $\ring_k$ the ring of algebraic integers in $k$. A fractional ideal in $k$ is a subset $I \subseteq k $ such that there exists $\B \in \ring$, $\B \neq 0$ such that $\B I$ is an ideal of $\ring$.
\end{defn}
\spa
\textbf{E.g.} If $k \in \Q $\hspace{7pt} $\ring_k =\Z$ the fractional ideals have the form:
\begin{align*}
	(x) = \{ xy : y \in \Z \} \text{ with } x \in \Q
\end{align*}

We can multiply fractional ideals in the same way as ideals.
\begin{align*}
	IJ = \{\sum_{i,j} x_iy_j : x_i \in I \hspace{7pt} y_j \in J\}
\end{align*}
This is clearly associative and $(1) = \ring_k$ is the identity element.

\subsection{Tricky Lemma}
\begin{lemma}
Let $P \subseteq \ring_k$ be a maximal ideal.
	Then there is a fractional ideal $P^{-1}$ such that:
	\begin{itemize}
		\item{If $I$ is any ideal, $I \subseteq P$ then $P^{-1} I $ is also an ideal which has smaller norm than $I$. In other words $P^{-1} I$ is an ideal containing $I$ but not equal to $I$ }
		\item{$PP^{-1} = (1)$}
	\end{itemize}
\end{lemma}
\spa
Using this we'll prove some theorems.

\begin{theorem}
The non-zero fractional ideals form a group with the operation $\times$.
\end{theorem}

\begin{proof}
Remains to show that every element has an inverse.

We'll first show that all ideals have inverses. 
	By induction on $N(I) = 1$ then $I= \ring_k = (1)$.
\spa

	Assume all ideals with norm smaller than $I$ have inverses.
	\spa

	Let $P$ be a maximal ideal containing $I$, by the tricky lemma, $P^{-1} I$ is an ideal with norm smaller than $I$.
\spa

	$P^{-1}I$ has an inverse $J$. $\underbrace{(JP^{-1})}_\text{inverse of $I$} I = (1)$

\spa

	Now let $I$ be any fractional ideal (non-zero). $\B I=J$ is an ideal for non-zero $\B \in \ring_k$. Therefore $J$ has an inverse $J^{-1}$. \hspace{7pt} $\underbrace{\B J^{-1}}_\text{inverse of $I$} I = J^{-1} J = (1)$ 


\end{proof}
		    
	    
    \begin{theorem}
Every non-zero ideal $I \subseteq \ring_k$ can be factorised as $I = P_1 \dots P_r$ with $P_i$ maximal, unique up to reordering.
    \end{theorem}
    
    
    
    \begin{proof}
	    By induction on $N(I)$, if $N(I) = 1 $ then $I=(1) $ so true with $r = 0$.

	    Assume all ideals with smaller norm than $I$ can be factorised into maximal ideals.

	    Let $P$ be a maximal ideal containing I, by the tricky lemma, $P^{-1} I$ is an ideal with smaller norm than $I$.
	    
	    Therefore $P^{-1} I = P_1 \dots P_r$ ($P_i$ maximal) and $I = P P_1 \dots P_r$.
\spac
	    (Uniqueness of factorisation)

	    By induction on $N(I)$, if $N(I)=1$ then $I= (1)$ and nothing to prove.
	    
	    Assume all ideals with smaller norm than $I$ have a unique factorisation.

	    Suppose $I = P_1 \dots P_r = Q_1 \dots Q_s$ for $P_1, Q_i$ maximal.
\spa

Let $P_1$ be prime and $P_1 \supseteq Q_1 \dots Q_s $. So $P_i \supset Q_i$ for some $i$.
\spa

Without loss of generality $P_1 \supseteq Q_1$ but $Q_i$ is maximal so $P_1 = Q_1$.
\spa

	    Multiply the equation by $P_1^{-1} \implies $ $P_1^{-1}I = P_2 \dots P_r = Q_2 \dots Q_s$ 
\spa

By the tricky lemma, $P_1^{-1} I$ is an ideal with smaller norm than $I$. 
\spa

	    Therefore $P_1^{-1}$ has only maximal ideals $\implies$ after reordering $P_i = Q_i$ and $r=s$.
    \end{proof}
\spa
A subset $I \subset k$ is a fractional ideal if $I = \B^{-1} J $ for $\B \in \ring_k$, $\B \neq 0$ and $J$ is an ideal.

\spa
\textbf{E.g.} in $\Q$, $(\frac{1}{2} ) = \{\frac{n}{2}: n \in \Z \}$
\spac
\textbf{Remark:} If $I$ is a fractional ideal then $I$ is an ideal $\iff I \subseteq \ring_k$
\begin{proof}
	$(\implies)$ trivial
	\spac
	$(\Longleftarrow)$ $\B I$ is an ideal so closed under $+$ and scalar multiplication.

	$I$ is closed under $+$, scalar multiplication $\implies I$ is an ideal.
\end{proof}


\begin{defn}
Let $I,J$ be ideals, we'll say $I| J$ if $J = II'$ for some ideal $I'$
\end{defn}
\begin{cor}
$I|J \iff I \supseteq J$
\end{cor}
\begin{proof}
	$(\implies)$ \hspace{7pt} $ J = II'$ \hspace{7pt}  $I'\subseteq \ring_k$ then $J \subseteq I \ring_k = I$
\spac
	$(\Longleftarrow)$ Suppose $I \supseteq J$. 
	Let $I' = I^{-1} J \implies J = II' $. 
	Remains to show that $I' \subseteq \ring_k$.
	\spa

	$J \subseteq I$
	\spa
	
	Therefore $I' = I^{-1}J \subseteq I^{-1} I = (1) = \ring_k$
	\spa

	$I'$ is an ideal.

\end{proof}


\begin{defn}
	$P^{-1} = \{ x \in k : xP \subset \ring_k\}$
\end{defn}

Let $\B \in P$, $\B \neq 0$.
We'll see that $\B P^{-1} \subseteq \ring_k$ and is an ideal.
\spa

If $x \in P^{-1} $ then $xP \subseteq \ring_k$

$\implies x\B \in \ring$

$\implies \B P^{-1} \subseteq \ring_k$
\spac
Let $x,y \in P^{-1} $ and  $\lambda \in \ring_k$, need to check $x+ \lambda y \in P^{-1}$.
\spac
Let $\delta \in P$
 \spac
 $\implies x \delta \in \ring_k$ and $y \delta \in \ring_k$
 \spac
 $\implies x\delta + \lambda y \delta \in \ring_k$
 \spac
 $\implies (x+\lambda ) \delta \in \ring_k$
 \spac
 $\implies x+ \lambda y \in P^{-1} $

\begin{defn}
	$P^{-1} = \{ x \in k : xP \subseteq \ring_k \} \implies P^{-1}$ is a fractional ideal.
\end{defn}
\spa
Before proving the tricky lemma we'll need:

\begin{lemma}
Let $I \subseteq \ring_k $ for $I=0$. Then there exists ideals $P_1, \dots, P_r$ with $I \supseteq P_1 \dots P_r$ 
\end{lemma}

\begin{proof}
	By induction on $N(I)$.
\spa

	If $N(I) = 1$ then $I =  \ring_k$.
	Assume true for ideals smaller norm than $I$.
	\spa

	If $I$ is maximal then let $P_i \in I$.

	If $I$ is not maximal then $I$ is no prime. Then there exists $x, y \in \ring_k$, $xy \in I$ and $x \not \in I$, $y \not \in I$.
\spa

	Let $J = I + (x) $ and $K = I + (y)$
\spa

These are bigger than $I$ so they have smaller norm.
\spa

$J \supseteq P_1 \dots P_t$ for $P_i$ maximal

	$K \supseteq P_{i+1}\dots P_r$
\spa

	Then $JK = \underbrace{I*I}_{\subseteq I} + \underbrace{I*(y)}_{\subseteq I} + \underbrace{I(x)}_{\subseteq I} + \underbrace{(xy)}_{\subseteq I}$

	\spa

	$\implies JK \subseteq I$

	$\implies P_1\dots P_r \subseteq I$

\end{proof}
\spa
Note that $P^{-1} \supseteq \ring_k$, if $x \in \ring_k$ then $xP \subseteq \ring_k$ therefore $x \in P^{-1}$.

The first step in the proof of the tricky lemma will be to show that $P^{-1} \supsetneq \ring_k$.




\begin{proof}
	(Tricky Lemma)
\spac
	\textbf{Step 1:} Show that $P^{-1} \supsetneq \ring_k$.

	Choose $a \in P$, $a \neq 0 $ such that $(a) \supseteq P_1, \dots P_r$, by the previous lemma with $P_1, \dots, P_r$ maximal.
\spa

	We'll do this with $r$ minimal.
	\spa

	$P_1 \dots P_r \subseteq (a) \subseteq P$
	\spa

	Since $P$ prime, $P \supseteq P_i$ for some $i$, without loss of generality, $P \supseteq P_r$ but $P_r$ is maximal.
\spa

	$\implies P= P_r$
	\spa

	Since $r$ is minimal $(a) \supsetneq P_1 \dots P_{r-1}$ so we can choose $b \in P_1 \dots P_{r-1}$ for $b \in (a) $.
	\spa
	
	Let $x = \frac{b}{a}$, we'll see that $x \in P^{-1}$ and $x \in \ring_k$.
	\spa

	$xP =\frac{b}{a}P \subseteq \frac{1}{a}(P_1\dots P_{r-1})P = \frac{1}{a}P_1 \dots P_r \subseteq \frac{1}{a}(a) = \ring_k$
	\spa

	$\therefore x \in P^{-1}$
	\spa

	Also $b \in (a) $ so $b$ is not a multiple of $a$, i.e. $\frac{b}{a} \in \ring_k$.
	\spac
	\textbf{Step 2: } Let $I \subseteq P$ an ideal, want to show that $P^{-1}I$ is an ideal bigger than $I$.
	\spa

	$P^{-1} I \subseteq P^{-1}P \subseteq \ring_k $, from the definition of $P^{-1}$.
	\spa

	$\therefore P^{-1} $ is an ideal and $P^{-1} \supseteq \ring_k$ so $P^{-1} I \supseteq \ring_k I = I$
	\spa

	Suppose $P^{-1} I =I$. Let $x \in P^{-1}$, $x \in \ring_k$ then by step 1:
	\spa

	$xI \subseteq I$
\spa

	$I = Span_\Z\{ b_1, \dots, b_d\}$
\spa

	$xb_1 = m_{i1}b_1 + \dots + m_{id}b_d  \hspace{100pt} x\begin{pmatrix}
		b_1\\
		\vdots\\
		b_d
	\end{pmatrix} = \begin{pmatrix}
		m_{ij}
	\end{pmatrix}
	\begin{pmatrix}
b_1\\
\vdots\\
b_d
	\end{pmatrix}
	$
\spa

So $x$ is an eigenvalue of $(m_{ij})$, $x \in \ring_k$ \lightning
\spac
\textbf{Step 3: } Let $I=P$, by step 2, $P^{-1}P$ is a bigger ideal than $P$ but $P$ is maximal.
$ P^{-1} P = \ring_k$



\end{proof}


\begin{theorem}
If $k$ is a number field and $\ring_k$ is the ring of algebraic integers in $k$, then every non-zero ideal $I$ has a unique factorisation $I = P_1 \dots P_r$ for maximal ideal $P_i$.
\end{theorem}
\spa
We'll now concentrate on these questions:
\begin{enumerate}
	\item{Given $I$, how do we find $P_1, \dots P_r$?}
	\item{How do we find $N(I)$?}
	\item{What are the maximal ideals in $\ring_k$?}
\end{enumerate}

\subsection{Norms of Ideals}

\begin{defn}
	$N(I) = |\ring_k/I|$

	$N\Big( (\B)\Big) = |N(\B)|$
\end{defn}

\begin{theorem}
	Let $I, J$ be non-zero ideals in $\ring_k$ then $N(IJ) = N(I)N(J)$.
\end{theorem}
\spa
We can use the theorem to calculate $N(I)$ if $I$ is not a principal ideal.
\spac
\textbf{Remark:} Suppose $\sigma: k \rightarrow k$ is a field homomorphism.
\spac
If $\B \in \ring_k$ then $\sigma(\B) \in \ring_k$ because they have the same minimal polynomial, i.e. $\sigma(\ring_k) = \ring_k$
\spac
If $I$ is an ideal, then $\sigma(I)$ is also an ideal.
\spac 
Also $N(\sigma I) = |\ring_k /\sigma(I) | = |\sigma(\ring_k) /\sigma(I)| = |\ring_k / I| = N(I)$ 
\spac
\textbf{E.g.} Let $k = \Q(\sqrt{-5})$, $\ring_k = \Z[\sqrt{-5}]$ because $-5 \not \equiv 1 \hspace{7pt} (4) $
\spa

$I = (2, 1+\sqrt{-5})$ and $\sigma(x+y\sqrt{-5}) = x-y\sqrt{-5}$ then:

\begin{align*}
	\sigma(I) &= (2, 1-\sqrt{-5})\\
	I* \sigma(I) &= (2, 1+\sqrt{-5} ) (2, 1-\sqrt{-5}) \\
	& = (\cancel{4},\cancel{2 - 2\sqrt{-5}} , \cancel{2+2\sqrt{-5}}, \cancel{6} )\\
	& = (2)
\end{align*}



\begin{align*}
	N(I)^2 = N(I*\sigma(I)) &= N\Big((2)\Big)\\
	& = |N(2)|\\
	 & = 4
\end{align*}

$\therefore N(I) = 2$

\begin{theorem}
	N(IJ) = N(I)N(J) 
\end{theorem}
\begin{proof}
Sufficient to prove when $J=P$ is a maximal ideal.
\spa

	$N(IP) = |\ring_k / IP|$
\spa

	$\ring_k \cong (\ring_k/IP) \Big/ (I/IP)$
\spa

	$\therefore N(I) = \cfrac{N(IP)}{|I/IP|}$
\spac

	So we want to prove $|I/IP| = N(P) = |\ring_k / P|$.
\spa

	We'll find an isomorphism $\ring_k / P \cong I/IP$ such that $IP \subsetneq I$.
\spa

Choose $a \in I$ such that $a \not \in IP$.
\spa

Define $\Phi : \ring_k \rightarrow I/IP$ by:



	\hspace{59pt}$x \rightarrow ax \mod IP$
\spa

	Then this means $IP \subsetneq IP+(a) \subseteq I$.
\spa

	Since $P$ is maximal, $IP + (a) = I$.
	\spa

	$\therefore$ Every element of $IP$ is congruent mod $IP$ to a multiple of $a$.
\spa

$\therefore \Phi $ is surjective.
\spa

	$ker( \Phi)$ is an ideal, not just a subgroup of $\ring_k$.
	If $ax \equiv 0 \hspace{7pt} (IP) $ then for all $y \in \ring_k$:
\spa

	$axy \equiv 0 \hspace{7pt} (IP)$
\spa

So $x \in ker \implies xy \in ker$.
\spa
	
	If $x \in P$ then $ax \in IP$, since $a \in I$.
\spa

	So $\Phi(x) \equiv 0 \hspace{7pt} (IP) $ i.e. $x \in ker(\Phi)$ and $ker(\Phi)$ is an ideal containing $P$.
	\spa

	Since $P$ maximal, $ker(\Phi) = P$ or $\ring_k$.
\spa

	But $\Phi$ is surjective $\implies \Phi \neq 0 \implies ker(\Phi) \neq \ring_k$.
\spa

Therefore $ker(\Phi) = P$ and by the first isomorphism theorem:
\spa

$\ring_k / P \cong I/IP$ so $ N(P) = |I/IP|$

\end{proof}
\begin{cor}
	If $I \subseteq \ring_k$ is a non-zero ideal and $N(I)$ is a prime number then $I$ is maximal.
\end{cor}
\spa
\textbf{E.g.} In $\Z[\sqrt{-5}$, the ideal $(2, 1+\sqrt{-5})$ has norm 2 so is maximal.


\begin{proof}
$I = P_1\dots P_r$ for $P_i$ maximal and by the theorem:
	\begin{align*}
		N(P_1)N(P_2) \dots N(P_r) & \text{ is prime} 
	\end{align*}
	
	Note that for all $N(P_i)$, $ N(P_i) > 1$.

$\therefore r =1$ so $I=P_1$
\end{proof}


\begin{lemma}
	$N(I) \in I$
\end{lemma}


\begin{proof}
Let $n$ be the order of 1 in the additive group $\ring/I$.
So

	\begin{align*}
		n = \underbrace{1 + 1 +1+\dots +1}_n \equiv 0 \hspace{7pt} (I)
	\end{align*}

	By corollary to Lagrange's theorem, $n | N(I) $ so $N(I) \equiv 0 \hspace{7pt} (I)$, i.e. $N(I) \in I$.
\end{proof}

\begin{cor}
There are only finitely many ideals in $\ring_k$ with any given norm.
\end{cor}
\begin{proof}
	Suppose $N(I) = n$, then $n \in I$ by the lemma.
	Therefore $(n) \subseteq I$ and $I$ is factor of $(n)$.
\spa

	By uniqueness of factorisation $(n)$ has only finitely many factors.
\end{proof}

\begin{lemma}
Let $R \subseteq S$ be commutative rings.
If $P \subset S$ is a prime ideal then $P \cap R$ is a prime ideal of $R$.
\end{lemma}


\begin{proof}
Suppose $xy \in P \cap R$ with $x,y \in R$. $xy \in P \implies x \in P $ or $y \in P$.
\spa

Since $x, y \in R$, we have $x \in P \cap R $ or $y \in P \cap R$
\end{proof}
\spa
Let $P$ be a maximal ideal in $\ring_k$.
By the lemma $P \cap \Z$ is a prime ideal in $\Z$.
Also $P \cap \Z \neq \{0\}$ because $N(P) \in P$.

Therefore $P \cap \Z = (p)$ for some prime number $p \in \Z$, i.e. $P | (p)$. We'll say "$P$ lies above $p$ and write $P|p$.
\spac
This means that to find all the maximal ideals of $\ring_k$, we just factorise $(P)$ for each prime number $p$.

\begin{cor}
	If $P \subset \ring_k$ is maximal then $N(P) = p^r$ for some $r \leq [k:\Q]$ where $P|p$ 
\end{cor}
\begin{proof}
	$P|(p)$, therefore $N(P) |N\Big((p)\Big) = p^{[k:\Q]}$
\end{proof}


\subsection{Dedekind's Criterion}

Assume $\ring_k =\Z[\A]$ and let $m(x)$ be the minimal polynomial of $\A$ and $p$ be a prime number.

Suppose $m(x) \equiv m_1(x)^{e_1} \dots m_r(x)^{e_r}$ where $m_i \in \ff_p[x]$ are irreducible distinct, monic polynomials.

Then $(p) = Q_1^{e_1} \dots Q_r^{e_r}$ where $Q_i = (p, m_i(\A))$. The ideals $Q_i$ are distinct and maximal and $N(Q_i) = p^{deg(m_i)}$.
\spac
\textbf{E.g.} $k = \Q(\sqrt{6})$, $\ring_k = \Z[\sqrt6]$, $\A = \sqrt6 $, $m(x) = x^2 -6$

\spac
	\begin{tabular}{l|l}
		$x$                    & $m(x) = x^2 - 6$ \\ \hline
		0                    & -6 = -2*3       \\
		$\pm 1$              & -5              \\
		$\pm 2$ & -2                           \\
		$\pm 3$ & 3                              
	\end{tabular}
\spac

$m(x) \equiv x^2 \hspace{7pt} (2)$ so $(2) = Q_2^2$ where $Q_2 = (2, m_i(\sqrt6))$.

$m_i(x) = x$ so $Q_2= (2, \sqrt6)$
\spac

$m(x) \equiv x^2 \hspace{7pt} (3)$ 

$(3) = Q_3^2 $ where $Q_3 = (3, \sqrt{6})$.
\spac

$m(x) \equiv (x-1)(x+1) \hspace{7pt} (5) $ 

$(5) = Q_5 Q_5'$ where $Q_5 = (5, \sqrt6 + 1)$ and $Q_5' = (5, \sqrt6 - 1)$.
\spac

$m(x) \equiv m(x) \hspace{7pt} (7)$

$(7) $ is a maximal ideal in $\Z[\sqrt6]$.



\begin{proof}
\spa

	$\ring_k = \Z[\A]$

	$\ring_k \cong \Z[x]/(m) $

	$\A \leftarrow x \mod m$
\spa

	For each $Q_i$ we have:
	\begin{align*}
		\ring_k /Q_i & \cong \Z[x]/(m,p, m_i(x))\\
		& \cong \ff_p[x] / (m,m_i)\\
		&\cong \ff_p[x] / (m_i) \text{ because $ m_i | m $ in $\ff_p[x]$}
	\end{align*}

But $m_i $ is irreducible in $\ff_p[x]$
	\begin{align*}
		& \implies (m_i) \text{ is maximal in } \ff_p[x]\\
		& \implies \ff_p[x]/(m_i) \text{ is a field }\\
		& \implies \ring_k/Q_i \text{ is a field }\\
		& \implies Q_i \text{ is maximal } 
	\end{align*}

	Also \begin{align*}
		N(Q_i) &= |\ring_k/Q_i|\\
		& = |\ff_p[x] / (m_i)|\\
		& = p^{deg(m_i)}
	\end{align*}

	We'll next show that $(p) = Q_1^{e_1} \dots Q_r^{e_r} $:


	\begin{align*}
		Q_1^{e_1}\dots Q_r^{e_r}  &= (p, m_1(\A) )^{e_1} \dots (p, m_r(\A) )^{e_r} \\
		& = (m_1(\A)^{e_1} \dots m_r(\A)^{e_r}, \text{ multiples of } p )
	\end{align*}

	But $m_1 (\A) ^{e_1} \dots m_r(\A)^{e_r} \equiv \underbrace{m(\A)}_0 \mod p$

\spa

	This shows that $Q_1^{e_1} \dots Q_r^{e_r} = (\text{multiples of }p)$, therefore $Q_1^{e_1} \dots Q_r^{e_r} \subseteq (p)$
\spa

To show that they are equal, we'll show that they have the same norm:

	\begin{align*}
		N(Q_1^{e_1} \dots Q_r^{e_r} ) &= N(Q_1)^{e_1} \dots N(Q_r)^{e_r} \\
		&= (p^{deg(m_1)})^{e_1} \dots (p^{deg(m_r)})^{e_r} \\
		&= p^{e_1deg(m_1) + \dots + e_r deg(m_r)}\\
		&= p^{deg(m)}\\
		&= N\Big((p)\Big)
	\end{align*}

	Therefore $(p) = Q_1^{e_1} \dots Q_r^{e_r}$.
\spa

	Remains to show that $Q_i$ are distinct $\ring_k /Q_i \cong \ff_p[x] /(m_i) $ with $\A \mapsto x$.
\spa

	Suppose $Q_i = Q_j$ then $m_j (\A) \in Q_i$.
\spa

Then $m_j(\A) \equiv 0 \hspace{7pt} (Q_i) $ and $m_j (x) \equiv 0 \hspace{7pt} (m_i) $ in $\ff_p[x]$.
\spa

So $m_i | m_j $ in $\ff_p[x]$
\end{proof}
\spa
\textbf{E.g.}
We'll factorise $(12 + 7\sqrt6)$ into maximal ideals in $\ring_k$

\begin{align*}
	N\Big( (12+7\sqrt6) \Big) & = |12^2 - 6*7^2|\\
	& = |144 - 294|\\
	& = |150|\\
	& =2 *3*5^2 
\end{align*}

Recall that 

$(2) = Q_2^2 $, 

$(3)= Q_3^2 $,

$(5)= Q_5Q_5' $ 
\spa

with norms:

$N(Q_2) = 2$

$N(Q_3) = 3$,

$N(Q_5) = N(Q_5') = 5$ where 
\spa


$Q_2 = (2, \sqrt6 )$

$Q_3 = (3, \sqrt6 )$

$Q_5' = (5, \sqrt6 + 1 )$

$Q_5' = (5, \sqrt6  -1)$
\spa

and $(7)^2$ is a prime ideal with norm $7^2$.
\spa

The ideals with norm 150 are $Q_2Q_3Q_5^2$, $Q_2Q_3Q_5Q_5'$ or $Q_2Q_3Q_5'^2$.
\spa

Note that $(5)$ is not a factor of $(12 + 7 \sqrt6)$.

\spa


If $Q_5$ is a factor then $(12 + 7\sqrt6) = Q_2Q_3Q_5^2$

If $Q_5'$ is a factor then $(12 + 7\sqrt6) = Q_2Q_3Q_5^2$
\spa

Is $12 + 7\sqrt6 $ in $Q_5$ or $Q_5'$?
\spa

$12+7\sqrt6 = 5 + 7(\sqrt6 + 1) \in Q_5$
 \spa

 In this case $Q_2, Q_3, Q_5$ are all principal.
 \spa

 $N(x+y\sqrt6) = x^2 - 6y^2$
 \spa


 $N(2+ \sqrt6)  = - 2$

 
 $N(3+ \sqrt6)  = 3$
 
 
 $N(1+ \sqrt6)  = - 5$
\spa

 Therefore:

 
 $(2 + \sqrt6 ) = Q_2$
 
 $(3 + \sqrt6 ) = Q_3$ 

 $(1+ \sqrt6 ) = Q_5$
 
 $(1 - \sqrt6 ) = Q_5'$

\spac 
\textbf{E.g.} Let $ \Q(\sqrt{\A})$,  $\A^3 =\sqrt2$, $\ring =  \Z[\A]$, $m(x) = x^3 - 2$



\begin{align*}
	m(x) & = x^3 \hspace{7pt} (2)\\
	& = (x+1) \equiv (x+1)^3 \hspace{7pt} (3)\\
	& = (x+2) \underbrace{(x^2-2x-1)}_\text{ irreducible mod 5} \hspace{7pt} (5)\\
	& = \text{ irreducible mod 7}
\end{align*}
 
 

\begin{tabular}{l|l}
	$x$ & $m(x)$   \\
	\hline
	0   & -2       \\
	1   & -1       \\
	-1  & 3        \\
	2   & 6=2*3    \\
	-2  & -10=-2*5 \\
	3   & 25=5*5   \\
	-3  & -29     
\end{tabular}
 
\spa

 \begin{align*}
	 (2) &= P_2^3   \hspace{125pt}&    P_2 &= (2, \A) & \text{Norm 2}\\
	 (3) &= P_3^3            \hspace{125pt}& P_3 &=(3, \A+1) & \text{Norm 3} \\
	 (5) &= P_5 P_{25} 	\hspace{125pt} & P_5 &= (5,\A+2) & \text{Norm 5}\\
	 & \hspace{125pt} & P_{25} &= (5, \A^2 - 2\A-1) & \text{Norm 25}\\
	 &(7) \text{ is prime with norm } 7^3
 \end{align*}
 
 \subsection{Ramified Primes}

 Suppose $p$ is a prime number and $(p) = Q_1^{e_1} \dots Q_r^{e_r}$ for $Q_i$ distinct prime ideals in $\ring_k$.
 Then $p$ is ramified if the powers $e_1, \dots, e_r$ are not all 1.

 For example 2 and 3 are ramified in $\Z[\sqrt[3]{2}]$.
 \spac
 Also in $\Q(\sqrt7)$, 2 and 7 are ramified and all the other primes are unramified.

 This folllows then:
 
 \begin{theorem}
$p$ ramified $\iff p | \dd$ where $\dd$ is the discriminant of an integral basis.
 \end{theorem}
 
 
 \begin{proof}
	 (Sketch)

	 Assuming $\ring_k = \Z[\A]$
	 \spac
	 $(\implies) $ Assume $p$ is ramified, suppose $Q^2 | (p)$ where $Q$ is a maximal ideal. 
	 $Q = (p, m_1(\A))$.

	 By Dedekind's criterion, $m_1(x)^2$ is a factor of $m(x)$ in $\ff_p(x)$.
	 Then:
	 \begin{align*}
		 m(x) &\equiv m_1(x)^2 f(x) \hspace{7pt} (p)\\
		 m'(x) &\equiv m_1(x) g(x) \hspace{7pt} (p)\\
		 m'(\A) &\equiv m_1(\A) g(\A) \hspace{7pt} (p) \in Q
	 \end{align*}

	 $N(m'(\A))$ is a multiple of $N(Q)$ which is a power of $p$.
	 \spac
	 $(\Longleftarrow)$ We can reverse the argument.
 \end{proof}
 \spac Let $k$ be a quadratic field, $p$ unramified in $k$.

\begin{align*}
	(p) = \begin{cases}
		Q_1 Q_2 & Q_i \text{ norm p}\\
		\text{prime} & \text{of norm } p^2
	\end{cases}
\end{align*}
Call these two split or inert respectively.
\spac
Recall the Decomposition Theorem, let $k = \Q(\sqrt{n}$ where $n$ square free and let $p$ be prime which is unramified.
If:
\begin{align*}
	\Big(\frac{n}{p}\Big)  &= 1 \text{ then $p$ splits}  \hspace{100pt}& 2 \text{ splits } \iff n &\equiv 1 \hspace{7pt} (8)\\
	\Big(\frac{n}{p}\Big)  &= -1 \text{ then $p$ is inert}  \hspace{100pt}& 2 \text{ inert } \iff n &\equiv 5 \hspace{7pt} (8)\\
\end{align*}
We no longer need to assume $\ring_k$ is a UFD.

\subsection{Quadratic Fields}
Let $k = \Q(\sqrt{n})$ for $n \neq 1$ square-free, $\ring_k = \Z[\A] $ and 
\begin{align*}
	\A =
	\begin{cases}
		\sqrt{n} & n \not \equiv 1 \hspace{7pt} (4) \\
		\frac{1+\sqrt{n}}2 &  n\equiv 1 \hspace{7pt} (4)
	\end{cases}
	&&\dd = \begin{cases}
	4n & n \not \equiv 1 \hspace{7pt} (4)\\
	n & n \equiv 1 \hspace{7pt} (4) 
\end{cases} 
\end{align*}
Suppose $p$ is a prime number, then:

\begin{itemize}
	\item{$p$ is ramified $\implies (p) = Q^2$ \hspace{25pt}  $N(Q)=p$}
	\item{$p$ is split $\implies (p) = Q_1Q_2$  \hspace{25pt} $Q_1 \neq Q_2$ $N(Q_i) = p$}
	\item{$p$ is inert $\implies (p)$ prime with norm $p^2$}
\end{itemize}
 
 
 \begin{theorem}
	 Let $p$ be unramified in $\Q(\sqrt{n})$.
	 If $p$ is odd then:
\begin{align*}
	\Big(\frac{n}{p}\Big)  &= 1 \text{ then $p$ splits}  \hspace{100pt}& 2 \text{ splits } \iff n &\equiv 1 \hspace{7pt} (8)\\
	\Big(\frac{n}{p}\Big)  &= -1 \text{ then $p$ is inert}  \hspace{100pt}& 2 \text{ inert } \iff n &\equiv 5 \hspace{7pt} (8)
\end{align*}
and ramified in other cases.
 \end{theorem}

\begin{proof}
	Suppose $p$ odd, let $f(x) = x^2 - n $ be the minimal polynomial of $\sqrt{n}$ and $g(x)= \frac{1}{4} $ be the minimal polynomial of $\frac{1+\sqrt{n}}{2}$.

	2 is invertible mod $p$, so $f$ factorises mod $p$ if and only if $g$ factorise mod $p$.

	$\iff x^2 - n \equiv 0 \hspace{7pt} (p)$
	\spa

	$\iff \Big(\frac{n}{p}\Big) = 1$
\spac

	If $n \equiv 1 \hspace{7pt} (8)$ :
	\begin{align*}
		g(x) &= x^2 - x + \frac{1-d}4\\
		&= x^2+ x \hspace{7pt} (2)\\
		& = x(x+1) \hspace{7pt}(2) &&\text{split in this case}
	\end{align*}
\spac

	If $n \equiv 5 \hspace{7pt} (8) $:
	\begin{align*}
		g(x) = x^2 +x+1 \hspace{7pt} (2)&& \text{irreducible}
	\end{align*}
\end{proof}
\textbf{E.g.} If $k = \Q(\sqrt{5})$ and $\ring_k = \Z[\frac{1+\sqrt5}2]$ , how does $(199)$ factorise?

\begin{align*}
	\Big( \frac{5}{199} \Big) = \Big( \frac{199}5 \Big) = \Big(\frac{4}{5}\Big) = 1
\end{align*}
 
 Therefore $(199) = Q_1Q_2$ where $N(Q_1)=N(Q_2)=199$
 

\subsection{Cyclotomic Fields}
Let $\z$ be the primitive $n^{th}$ root of unity and $k = \Q(\z) $ then $[k:\Q] = \phh(n)$, the Euler totient function.

Also $\Phi(x) $ is the minimal polynomial of $\z$


\begin{theorem}
	Let $\z$ be the primitive $n^{th}$ root of unity with $p$ prime not dividing $n$ and let $f = $ order of $p$ in $(\mathbb{Z}/n)^\times$ and $fg = \phh(n) $.

	Then $p$ is unramified in $\Q(\z)$ and $(p) = Q_1 \dots Q_g$ where $Q_i$ is a prime ideal with norm $p^f$ 
\end{theorem}
\spa
\textbf{E.g.} $n= 5$ and $\phh(5) = 4 $
\spac
\begin{tabular}{l|l|l|l}
	$p \mod n$ & $f$ order ($p$ mod 5) & $g$ & Factorisation of $(p)$               \\
	\hline
	1          & 1                     & 4   & $Q_1Q_2Q_3Q_4$                       \\
	2          & 4                     & 1   & $(p)$ is prime with norm $p^4$       \\
	3          & 4                     & 1   & $(p)$ is prime with norm $p^4$       \\
	4          & 2                     & 2   & $Q_1Q_2$ $Q_i$ prime with norm $p^2$
\end{tabular}


\begin{proof}
	\spa

	Let $p$ be a prime $p \not | n $, $\Phi_n(x) | x^n - 1 = g(x) $.
\spa

	To show that $p$ is unramified, we'll show that $g$ has no repeated factors in $\ff_p[x]$.
\spa

	$g'(x) = nx^{n-1} $ is coprime to $g(x)$ because $n \not \equiv 0 \hspace{7pt}  (p)$
\spa

	Therefore $\Phi_n(x) $ has no repeated factors in $\ff_p[x]$ and by Dedekind's criterion $p$ is unramified.
	\spa

	Let $Q$ be a prime ideal above $p$. 

	Then $N(Q) = p^r$. 
	Sufficient to prove $r=f$.
\spac
	\textbf{Step 1} $(r\geq f)$: We'll first show that $\z$ has order $n$ in $(\ring_k/Q)^\times$

	By a corollary to Lagrange's theorem, $n | \underbrace{N(Q) - 1}_{p^r -1 }$, i.e. $p^r \equiv 1 \hspace{7pt} (n) $. 
	\spa

	So $r\geq f$.
	\spa

	We know $\z^n \equiv 1 \hspace{7pt} (Q) $. 
	Suppose $\z^d \equiv 1 (Q)$ where $d$ is a proper factor of $n$. 
\spa

	$\z $ is a common root in $\ring_k / Q$ of $\Phi_n$, $x^d -1$.
	\spa

	Therefore $\z$ is a repeated root of $x^n - 1$ in $\ring_k / Q$ which is a contradiction since $g(x), g'(x)$ are coprime mod $p$.
	\spac
	\textbf{Step 2} $(r \leq f)$: We'll show that every element of the field $\ring_k /Q$ is a root of $x^{p^f} - x  \implies |\ring_k / Q| \leq p^f$ and then $p^r = N(Q)$
\spa

By Fermat's little theorem if $x \in \Z$ then:
	\begin{align*}
		x^p &\equiv x \hspace{7pt} (p)\\
		x^{p^f} &\equiv x \hspace{7pt} (p)\\
		x^{p^f} &\equiv x \hspace{7pt} (Q)
	\end{align*}

	Also $p^f \equiv 1 \hspace{7pt} (n)$ and $\z^{p^f} = \z$.
\spa

	Note that in any ring $(x+y)^p \equiv x^p + y^p \hspace{7pt} (p) \implies (x+y)^{p^f} \equiv x^{p^f} + y^{p^f}$ for $p$ prime
\spa

	Let $\B = x_0 + x_1 \z + \dots + x_r \z^r \in \Z[\z]$.
	Then:

	\begin{align*}
		\B^{p^f} &\equiv x_0^{p^f} + (x_1\z)^{p^f} + \dots + (x_r \z^r)^{p^f} \hspace{7pt} (p)\\
		& \equiv x_0 + x_1\z^{p^f} + \dots + x_r\z^{rp^f} \hspace{7pt} (p)\\
		& \equiv \B \hspace{7pt} (p)
	\end{align*}

	Therefore $\B^{p^f} \equiv B \hspace{7pt} (Q) $ because $Q | (p)$.

\end{proof}
\newpage

\section{Class Groups}

Let $k$ be a number field. 

\begin{defn}
	$\mathcal{I}_k$ = \{non-zero fractional ideals in $k$\}
\end{defn}
\spa
$\ii$ is a group under multiplication of fractional ideals..
\spac
A principal ideal is one of the form:
\begin{align*}
	(\B) &= \{ \B \G : \G \in \ring_k \}\hspace{7pt}  (\B \in k)\\[1em]
	(\B_1&)(\B_2) = (\B_1\B_2)
\end{align*}
Let $\pp_k $ be the set of principal fractional ideals, $\pp$ is a subgroup.
\spac
The class group of $k$ is $Cl_k = \ii_k / \pp_k$. 
Elements of the class group are called ideal closure.
\spac
If $I $ and $J$ are in the same ideal class we'll write $I \sim J$.
This is equivalent to saying $I = (\B) J$ for some $\B \in k^\times $.
\spac
If $\ring_k $ is PID $\iff Cl_k = \{1 \}$ then factorisation of elements is unique.
So the size of the class group tells us how far $\ring_k$ is from having unique factorisation or being PID.

\spac
Recall  $x^5 = y^2 + 33$, if $(x,y)$ is any solution in integers then $(y + \sqrt{-33}) = I^5$ for some ideal $I$.
It would be nice to be able to say that $I$ is a principal ideal.
\spac
$I^5 \sim (1) $ in $Cl_k $ so the ideal class of $I$ has order $1$ or $5$ in $Cl_k$.
If $Cl_k$ has no elements of order 5 then $I \sim (1) $ so $I$ is a principal ideal.

\begin{theorem}
$Cl_k$ is finite, then there exists a constant $M_k$ depending only on $k$.
\end{theorem}
\begin{lemma}
	Let $I$ be a non zero ideal of $\ring_k$ then there exists $\B \in I$ such that $|N(\B)| \leq M_kN(I)$
\end{lemma}
\begin{proof}
Theorem 5.2

We'll show that every ideal class contains an ideal with norm $\leq M_k$.
Since there are only finitely many ideals with a specific norm, there are only finitely many ideal classes.
\spa

	Let $I$ be a fractional ideal, $(\B) I \subseteq \ring_k$ for some non-zero $\B \in \ring_k$.
\spa

	Since  $I \sim (\B) I$ every ideal class contains an ideal.
	Let $J$ be an ideal in the class of $I^{-1}$.
\spa

	By the key lemma, there exists $\B \in J$, $\B \neq 0$ such that $|N(\B)| \leq M_k N(J)$. 
	\spa

	Since $\B \in J$, $(\B) \subseteq J \implies J | (\B) \implies (\B) = J*I'$ for some ideal $I'$.
\spa

	This means $I'J \sim (1)$ so $I' \sim J^{-1} \sim I$ and $N(I') = \frac{N\big((\B)\big)}{N(J)} \leq M_k$




\end{proof}


\subsection{How to Calculate the Class Group}

First we need to know the constant $M_k$.

\begin{align*}
	M_k = \bigg(\frac4\pi\bigg)^s \frac{d!}{d^d} \sqrt{|\dd|} && d&=[k:\Q] \text{, Minkowski bound}\\
	&& \dd& \text{ is the discriminant of the integral basis}\\
	&& s&  \text{ is the number of pairs of complex field embeddings / roots of $m_\A(x)$}
\end{align*}
\spac
If $\sigma_1, \dots, \sigma_d : k \hookrightarrow \C$, reorder these so that $\sigma_1, \dots, \sigma_r : k \hookrightarrow \R$.
Call these real embeddings.
Similarly,
$\sigma_{r+1} , \dots, \sigma_{r+s} : k \hookrightarrow \C$ such that:
\begin{align*}
	\sigma_{r+s+1} &= \bar \sigma_{r+1}\\
	\vdots &\\
	\sigma_{r+2s} & = \bar \sigma_{r+s}
\end{align*}
Call these complex embeddings. Note that these complex embeddings are in complex conjugate pairs.
\spac
\textbf{E.g.} $k = \Q(\sqrt{5} ) $, $s \equiv 1 \hspace{7pt} (4)$ so $\ring_k = \Z [\frac{1+\sqrt{5}}{2}]$, $\dd = 5$, $d = 2$, $s =0$.

Then $M_k = \frac{2!}{2^2} \sqrt{5} = \sqrt{\frac54} < 2$.
\spa

We showed that ever ideal class contains an ideal with norm $< M_k$.
In this case the only ideal with norm $<M_k$ is $(1)$, therefore $Cl_k = \{(1)\}$

So $\Z[\frac{1+\sqrt{5}}2]$ is a UFD and a PID.
\spac
\textbf{E.g.} $k = \Q(\sqrt{-5}) $, $\dd=  -20$.
\spa

Then $M_k  = \frac{4}{\pi}^1 \frac{2!}{2^2} \sqrt{20} = \frac{\sqrt{80}}{\pi} < \frac9\pi < 3$.
\spa

So every ideal class contains an ideal of norm $1$ or $2$. 
$(1)$ has norm 1.
\spa

$x^2 + 5 \equiv (x+1)^2 \hspace{7pt} (2) $ which means $(2) = P_2^2 $ and $N(P_2) = 2$ where $P_2 = (2, ,\sqrt{-5} +1 )$.
\spa

So the ideals with norm $< M_k$ are $(1), P_2$.
\spa

Since $N(x+y\sqrt{-5}) = x^2+5y^2 \neq 2$, there are no elements of norm 2 so $P_2 \not \sim (1) $ and $Cl_k = \{(1) , P2\}$. This is a cyclic group of order 2 and not a PID.
\spa

In many cases we can show that $\ring$ is a PID, to do this, we just show that each ideal with norm $M_k$ is principal, equivalently, any maximal ideals with norm $M_k$ is principal.

\spac
\textbf{E.g.} $k = \Q[\sqrt{6}]$, $\dd = 24$, $\ring_k = \Z[\sqrt6]$, $d=2$, $s=0$
\spa

$M_k = \frac{4}{\pi} \frac{2!}{2^2} \sqrt{24} = \sqrt{6} < 3$.
\spa

This means every ideal class contains an ideal or norm $1$ or $2$.
\spa

$2 | 24$ so $(2) = P_2^2$ and the ideals of norm 1 or 2 are $(1), P_2$.
\spa

Now we need to check if $P_2$ is a principal ideal.
\spa

$N(x+y\sqrt6) = x^2 - 6y^2 $

$N(2+\sqrt6 ) = -2$

So $P_2 = 2+ \sqrt6 \implies P_2 \sim (1)$ and $Cl_k = \{ (1)\}$.
\spac
If we want to show whether $|x^2 - 6y^2  | = n$ has a solution, this is equivalent to asking whether there is an ideal of norm $n$.

We can check this by factorising $n$ and using the decomposition theorem.

\spac
\textbf{E.g.} $k = \Q(\sqrt[3]2) $, $\ring = \Z[\sqrt[3]2] $, $m(x) = x^3 -2 $, $s=1$, $d=3$  
\spa

$\dd = 27b^2 - 4a^3 = -108 $ so 2 and 3 will be ramified.
\spa

$M_k = \frac4\pi * \frac{3!}{3^3} \sqrt{108} < \frac{4*2*11}{\pi *3^2} < 4$
\spac

\begin{tabular}{l|l|l}
	$x$ & $x^3 - 2$ & $(x-\A)$ \\ \hline
	0   & -2        & $P_2$    \\
	1   & -1        & (1)      \\
	-1  & -3        & $P_3$   
\end{tabular}

\begin{align*}
	m(x) = x^3 - 2 &\equiv x^3 \hspace{7pt} (2) \hspace{50pt} & (2) &= P_2^3 \text{ where } P_2 = (0 - \A) \sim (1) \\
	&\equiv (x+1)^3 \hspace{7pt} (3)  \hspace{50pt} & (3) &= P_3^3 \text{ where } P_3 = (-1-\A) \sim (1)
\end{align*}

All ideals of norm $<4$ are principal ideals so $\Z[\sqrt[3]{2}2] $ is a PID.

This allows us to solve $\det \begin{pmatrix}
	x & 2z & 2y\\
	y & x & 2z \\
	z & y & x
\end{pmatrix} = n$


Consider $x^3 = y^2 + y+8 = (y + \A) (y + \bar \A)$ for $\A =\frac{1+\sqrt{-31}}2$. 
Show that the ideals $(y+ \A) (y+\bar \A)$ are coprime as ideals then using the "Ideal Descent Lemma", $ (y+\A) = I^3$ for some ideal $I$.
\spa
\subsection{Ideal Descent Lemma}
\begin{lemma} 
Suppose $I,J, K \subseteq \ring_k$ are ideals $IJ= K^n$ for $I,J$ coprime.
	Then $I= I_0^n $ and $J=J_0^n$ for some ideals $I_0, J_0$.
\end{lemma}
\spa
\textbf{E.g.} Suppose that $y+\A = (a+b\A)^3 = a^3 + 3a^2b\A + 3ab^2(\A-8) + b^3(-7\A - 8)$  for $a,b \in \Z$.
\spa

Consider $x^3 = y^2 + y +8$ and $ 1 = 3a^2b + 3ab^2 -7b^3$.
\spa

$b | 1$ so if $b=1 \implies 3a^2 + 3a-8 = 0$ \lightning
\spa

If $b=-1$ : 
\begin{align*}
	-3a^2 + 3a+6&=0\\
	a^2-a-2 &= 0\\
	(a-2)(a+1) &= 0 \\
	a=2,-1
\end{align*}

$\implies x=1,y=31$ or $x=10,y=-32$
\spa

We missed the solution $x = 2, y= 0 $ and $x=2, y=-1$. 
We missed it because we assumed that if $y+\A = I^3$ then I must be a principal ideal.
$I$ can be an element of order 3 in the class group.
\spac
\textbf{E.g.} $k = \Q(-\sqrt{3} )$, $\ring_k = \Z[\A]$, $\A = \frac{1+\sqrt{-31}}2$. 

We'll calculate the class group.

$d = 2$, $s=1$, $\dd=31$
\spa

$M_k = \big(\frac4\pi\big)\big(\frac{2!}{2^2}\big) \sqrt{31} = \frac2\pi\sqrt{31} < 4$


\begin{align*}
	m(x) &= x^2-x+8\\
	&\equiv x(x+1) \hspace{7pt} (2)    \\
	&\text{ irreducible mod 3 (from the table)}
	&&&\begin{tabular}{l|l}
		$x$ & $x^2-x+8$ \\ \hline
		0   & 8         \\
		1   & 8         \\
		2   & 10=2*5   
	\end{tabular}
\end{align*}

Ideals of norm $<M_k$ are $(1), P_2, P_2'$ where $P_2 = (2,\A) $ and $P_2' = (2, \A+1)$.
\spa

$N(x+y\A) = x^2 + xy+ 8y^2 \geq 7y^2$.
\spa

If $N(x+y\A) \leq 6$ then $y=0 \implies $ no elements of norm 2.
\spa

Suppose $P_2 \sim P_2'$, $P_2P_2' = (2) \sim (1)$.
\spa

There are no elements of norm 2 so if $P_2 \sim P_2' $ then $P_2^2 \sim (1)$.
\spa

The only elements of norm 4 are $\pm 2$.
These generate $(2) = P_2P_2'$ not $P_2^2$ 


\begin{tabular}{l|lll}
	& $(1)$ & $P_2$ &$P_2'$ \\ \hline
	(1) & (1) & $P_2$ & $P_2'$ \\
	$P_2$ & $P_2$ & $P_2'$ &(1)\\
	$P_2'$ & $P_2'$ &(1) & $P_2$
\end{tabular}


\subsection{Calculating Class Groups}

\textbf{E.g.} $k = \Q(\sqrt{10})$, $\hspace{7pt} \ring = \Z[\sqrt{10}] $, \hspace{7pt}$m(x) = x^2 - 10$

$\dd = 4*10 = 40$, \hspace{7pt}$d =[k:\Q] = 2$,\hspace{7pt}  $  s = 0$
\spa

$M_k = \big(\frac4\pi\big)^s \frac{d!}{d^d} \sqrt{|\dd|} = 10 < 4$
\spa

Every ideal class contains an ideal with norm $<4$
\spac

\begin{tabular}{|l|l|l|}
	$x$     & $x^2-10$  & $(x^2 -\sqrt{10})$ \\ \hline
	0       & -10 = 2*5 &                    \\
	$\pm 1$ & -9 = -3*3 &                    \\
	+2      & -6 = 2*3  & $P_2 P_3$          \\
	-2      & -6 = 2*3  & $P_2 P_3'$         \\
	$\pm 3$ & -1        &                    \\
	$\pm 4$ & 6=2*3     &                   
\end{tabular}


\begin{align*}
	m(x) &= x^2 \hspace{7pt} (2)\\
	& \equiv (x+1)(x-1) \hspace{7pt} (3) 
\end{align*}

This means $(2) = P_2^2$, $(3) = P_3 P_3'$ where $P_2 = (2,\sqrt{10})$, $P_3 = (3, \sqrt{10}+1)$ and $P_3' = (3, \sqrt{10} -1)$.

So the relations in the class group are:

\begin{align*}
	P_2^2 & \sim (1) &&& P_2 \sim P_2^{-1}\\
	P_3P_3' & \sim (1) &&& P_3' \sim P_3^{-1}\\
	P_2P_3 &\sim (1) &&& P_2 \sim P_3^{-1} \sim P_3'\\
	P_2P_3' &\sim(1) &&& P_2 \sim P_3'^{-1}
\end{align*}

There are at most 2 ideal classes, $1, P_2$.

Remains to check whether $P_2 \sim (1)$ or not, check whether $P_2$ is a principal ideal.
\spa

Suppose $N(x+y\sqrt{10}) = \pm 2$, \hspace{5pt} $x^2-10y^2 = \pm 2 \implies x^2 \equiv \pm 2 \hspace{7pt} (5) $, which has no solutions. \lightning
\spa

$P_2 \sim(1) \implies Cl_k = \{(1), P_2\}$

\spa
\textbf{E.g.} $ k = \Q(-\sqrt{-30} $,\hspace{7pt} $\ring_k = \Z[-\sqrt{-30}]$


$ \dd = -120$,  \hspace{7pt} $d = [k:\Q] = 2$, \hspace{7pt} $s = 1$

Note that $2,3,5$ are ramified.
\spa

$M_k= \big( \frac4\pi \big)* \frac12 \sqrt{120} = \frac{2*\sqrt{120}}{\pi} < \frac{2*11}{3} < 8$
\spa

$m(x) = x^2 \hspace{7pt} (2),(3),(5) $ and is irreducible mod 7.
\spac

\begin{tabular}{|l|l|l|}
	$x$     & $x^2+30$   & $(x-\sqrt{30})$ \\ \hline
	0       & 30 = 2*3*5 & $P_2P_3P_5$     \\
	$\pm 1$ & 31         &                 \\
	$\pm 2$ & 34 = 2*17  &                 \\
	$\pm 3$ & 39 = 3*13  &                
\end{tabular}
\spac

This means $(2) = P_2^2$,\hspace{7pt}  $(3) = P_3^2 $, \hspace{7pt} $(5) = P_5^2$ and (7) is prime with norm 49.
\spa

The ideals with norm $< M_k$ are $(1), P_2, P_3, P_2^2 \sim (1) , P_5, P_2P_3$. Then $|Cl_k | \leq 5$.
\spa

Relations in the class group are:
\begin{align*}
	P_2^2 \sim P_3^2 \sim P_5^2 \sim (1)\\
	P_2P_3P_5\sim(1)\\
	P_2P_3 \sim P_5^{-1} \sim P_5
\end{align*}

So $Cl_k$ has at most 4 elements, $(1), P_2, P_3, P_5$.
\spa

Are any of these equivalent? $N(x+y\sqrt{-30}) = x^2 + 30y^2 \neq 2, 3,5,6,10, \dots$
\spa

$P_2 \not \sim (1)$, $P_3 \not \sim (1) $, $P_5 \not \sim (1)$, $P_2P_3 \sim (1) $.

Using these relations, we can then determine that $P_2 \sim P_3^{-1} $, $P_2 \not \sim P_3$.
\spa

Also $P_2^2 \sim (1)$ so $P_2$ has order $2$ in $Cl_k$, therefore $|Cl_k|$ is even and $Cl_k = 4$.

So $Cl_k = \{(1), P_2,P_3,P_5 \}$ and the group table is:
\spac

\begin{tabular}{l|llll}
	      & (1)   & $P_2$ & $P_3$ & $P_5$ \\ \hline
	      (1)   & (1)   & $P_2$ & $P_3$ & $P_5$ \\
	      $P_2$ & $P_2$ & (1)   & $P_5$ & $P_3$ \\
	      $P_3$ & $P_3$ & $P_5$ & (1)   & $P_2$ \\
	      $P_5$ & $P_5$ & $P_3$ & $P_2$ & (1)  
\end{tabular}
\spac
\spac
\textbf{E.g.} $k = \Q(\sqrt{-29}$, \hspace{7pt} $\ring_k = \Z[\sqrt{-29}]$, \hspace{7pt} $m(x) = x^2 + 29$, \hspace{7pt}

$\dd = -116$, $ d=2$, $s=1$
\spac


$M_k = \big(\frac{4}{\pi}\big) \frac12 \sqrt{16} < 8$
\spac

\begin{tabular}{|l|l|l|}
	$x$     & $x^2 + 29$ & $(x-\sqrt{29})$ \\ \hline
	0       & 24         &                 \\
	1       & 30 = 2*3*5 & $P_2P_3'P_5'$   \\
	-1      & 30 = 2*3*5 & $P_2P_3'P_5$    \\
	$\pm 2$ & 33=3*11    &                 \\
	$\pm 3$ & 38 = 2*19      
\end{tabular}


\begin{align*}
	m(x) &\equiv (x+1)^2 \hspace{7pt} (2)\\
	& \equiv (x+1)(x-1)  \hspace{7pt} (2)\\
	& \text{ irreducible mod 7}
\end{align*}

This means $(2) = P_2^2$, $(3) = P_3P_3'$, $(5) = P_5P_5'$ and $(7)$ is prime with norm 49 where 

$P_3 = (3,\sqrt{-29}+ 1)$ 

$P_3' = (3, \sqrt{-29} -1)$

$P_5 = (5,\sqrt{-29}+ 1)$ 

$P_5' = (5,\sqrt{-29}-1)$



The ideals with norm $<8$ are: $ (1), P_2, P_3, P_3', P_2^2 \sim (1), P_5, P_5', P_2P_3, P_2P_3'$.

We know $|Cl_k| \leq 8$, this must mean that there must be classes in the class group which are equivalent to each other, find these by determining the relations between them.

\begin{align*}
	P_2^2 &\sim (1) &&& P_2P_3P_5 &\sim P_2P_3'P_5' \sim (1)\\
	P_3P_3' &\sim (1) &&& P_2P_3 &\sim P_5'^{-1} \sim P_5 \\
	P_5P_5'&\sim (1)  &&& P_2P_3 &\sim P_5^{-1} \sim P_5'
\end{align*}

So $|Cl_k| \leq 6$.
\spa

$N(x+y\sqrt{-29}) = x^2+29y^2 \neq 2,3,5,6$ 

The additional relations are:
\begin{align*}
	P_2 &\sim (1)& P_3' &\not \sim (1)  & P_2P_3 &\not \sim (1)  &P_2P_3 &\not \sim (1) \\
	P_3 & \not \sim (1) & P_5 & \not \sim(1) & P_3 &\not \sim (1) & P_2 &\not \sim P_3\\
	P_5 &\not \sim (1) 
\end{align*}

$P_2P_5' \not \sim (1) $ so $P_5P_5' \sim P_2$.
\spa

The remaining ideal classes are $(1), P_2, P_3, P_3', P_5, P_5' $.

We have at least 3 ideal classes because $(1), P_2, P_3$ are all distinct, $P_2^2 \sim (1) $ so $P_2$ has order 2 therefore $|Cl_k| =4$ or $6$.
\spa

$P_3P_5, P_3'P_5, P_3,P_5', P_3'P_5'$ are not principal.
\spa

$\therefore P_5, \not \sim P_3'$
\spa

So we have at least 4 distinct ideal closures, $(1), P_2, P_3, P_5$

Is $P_3 \sim P_3' $?

This would mean $P_3^2 \sim (1)$.
\spa

Elements of norm 9 are $\pm 3$, these generate $P_3P_3'$ so $P_3^2 \not \sim (1) $ and $|Cl_k| = 6$
\spa

We know that $P_2P_3P_5 = (1+ \sqrt{-29})$ and $P_2P_3P_5' = (1-\sqrt{29})$. So,
\begin{align*}
	P_2P_3 \sim P_5^{-1} \sim P_5' && P_3P_5\sim P_2 && P_3'P_5 \sim P_2
\end{align*}

This means $P_3^2 \sim P_3'$ or $P_5$.
Suppose $P_3^2 \sim P_3' \sim P_3^{-1}$ then $P_3 \sim (1)$ which is a contradiction since there are no elements of norm 3.
\spa

Also note that there is an element of norm 45, $(4 + \sqrt{-29}) = P_3^2 * P_5'$ so $P_3^2 \sim P_5'^{-1} \sim P_5$.
\spac


This results in the group table: 
\begin{tabular}{|l|llllll|}
	\hline
	       & 1      & $P_2$  & $P_3$  & $P_3'$ & $P_5$  & $P_5'$ \\ \hline
	       1      & (1)    & $P_2$  & $P_3$  & $P_3'$ & $P_5$  & $P_5'$ \\
	       $P_2$  & $P_2$  & (1)    & $P_5'$ & $P_5$  & $P_3'$ & $P_2$  \\
	       $P_3$  & $P_3$  & $P_5'$ & $P_5$  & (1)    & $P_2$  & $P_3'$ \\
	       $P_3'$ & $P_3'$ & $P_5$  & (1)    & $P_5'$ & $P_3$  & $P_2$  \\
	       $P_5$  & $P_5$  & $P_3'$ & $P_2$  & $P_3$  & $P_5'$ & (1)    \\
	       $P_5'$ & $P_5'$ & $P_3$  & $P_3'$ & $P_2$  & (1)    & $P_5$ \\ \hline
\end{tabular}

\spac
\spac
Consider the minimal polynomial $x^2 - x+41 $, for $x = 0, \dots, 40$, the numbers are all prime. For $m(41) = 41^2$ it is not prime.

\begin{tabular}{|l|l|}
	\hline
	$x$  & $m(x)$ \\ \hline
	0    & 41     \\
	1    & 41     \\
	-1,2 & 43     \\
	-2,3 & 47     \\
	-3,4 & 53     \\ 
	-4,5 & 61    \\ \hline
\end{tabular}

\spac
Gauss discovered that $Cl_k = \{(1)\} $ in several complex quadratic fields, the last of these is $k = \Q(\sqrt{-163})$.
\spac
Gauss conjectured that this is the last one which is now proved.
\spac
$-163 \equiv 1 \hspace{7pt} (4) $ so $\ring_k = \Z[\A] $ where $\A = \frac{1+\sqrt{-163}}2$
\spac
$\A$ has minimal polynomial $m(x) = x^2 - x+41$.
It's easy to show that this is a UFD.

$s=1$, $d=2$, $\dd =-163$
\spa

$M_k = \big( \frac4\pi \big) * \frac{1}{2} \sqrt{163} = \frac{2\sqrt{163}}{\pi} < \frac{2*13}{3} < 9$.
\spac
From the table 2,3,5,7 are inert ideals of norm $<9$.
\spac
$ (1), (2) $ are both principle ideals so $Cl_k = \{(1)\}$.
\spac
We'll now see that $Cl_k= (1)$, the other values $m(x)$ for $x\leq 40$ are also prime.
Suppose that $m(x)$ factorises, let $p$ be a prime factor.
\spac
$p \leq \sqrt{m(x)} < \sqrt{41^2}$ so $p<41$.
\spac
Therefore $m(x) $ has a root mod $p$ so there is an ideal $Q$ with norm $p$.
\spac
This must be a principal ideal since $Cl_k = \{(1) \}$, there is an element of norm $p < 41$.
\begin{align*}
	N(x+y\A) &= x^2 -xy + 41y^2\\
	&= (x- \frac{1}{2} y)^2 + (41 - \frac14 y)^2
\end{align*}
\spa
If $y \neq 0$ then this is $\geq 41 -\frac{1}{4}$ \lightning so this is not $p$.
\spac
If $y= 0 $ then this is $x^2$ so this is not $p$.
\spac
No element has norm a prime number $<41$ \lightning
\spac
$m(x)$ is prime $x= 1,2,\dots, 40$.
Suppose $m(x)$ factorises let $p$ be a prime factor $p \leq \sqrt{m(x)} < \sqrt{41^2}$




\subsection{Using Class Groups in Diophantine Equations}

\textbf{E.g.} $x^3 = y^2 + 13 = (y+ \A) (y- \A)$ for $\A = \sqrt{-13}$.

Want to show that $(y+\A), (y - \A)$ are coprime as ideals.
\spa

If $\Z[\sqrt{-13}]$ isn't a UFD $\implies $ cannot use the Descent Lemma.
\spa

By the Ideal Descent Lemma, $(y+\A) = I^3$ for some ideal.
\spa

$I^3 \sim (1) $ so $I$ has order 1 or 3 in $Cl_k$.
\spa

If $Cl_k$ has no elements of order 3 then $I \sim (1)$.
\spac
Why are $(y+ \A), (y-\A)$ coprime ideals?
\spa

Let $P$ be a common factor which is a prime ideal, so $y+\A, y-\A \in P \implies 2\A \in P$.
\spa

Since $P | y+\A, y-\A$, this means $P | 2\A$ and $P | (2\A)$ and $N(P) |N(2\A) = 4*13$.
\spa

If $2 | N(P)$, $(P) |(y + \A)$ and $N(P) | N(y+\A) = x^3$ then $2 | x^3 $ which implies $2|x$.
\spa

So $y^2 + 13 \equiv 0 \hspace{7pt} (8) \implies y^2 \equiv -1 \hspace{7pt} (4)$ \lightning
\spa

If $13 | N(P)$ then $13| x$ by a similar argument and $y^2 + 13 \equiv 0 \hspace{7pt} (13^2)$ which is irreducible mod $13^2$. \lightning


Calculating the class group: $M_k = \big(\frac4\pi \big)* \frac12 \sqrt{52} < \frac{2*8}3 < 6$ 

\begin{tabular}{|l|l|}
	\hline
	$x$                    & $x^2 + 13$ \\ \hline
	0                      & 13         \\
	$\pm 1$                & 14=2*7     \\
	$\pm 2$                & 17         \\
	$\pm 3$ & 22=2*11 \\  \hline
\end{tabular}
\spac
	$m(x) \equiv (x+1)^2 \hspace{7pt} (2)$ and 
	irreducible mod 3,5
	\spac
$(2) = P_2^2$ and so the ideals with norm $<6$ are $(1), P_2, (2)$.
\spa

$|Cl_k| \leq 2$ 

$ N(x+y\sqrt{-13}) = x^2+ 13y^2 \neq 2 \implies P_2\not \sim(1)$
\spac
So $|Cl_k| = 2$.

So there are no elements of order 3, $I^3 \sim (1) \implies I \sim (1)$ so $I$ is a principal ideal as $y+\A = (r+s\A)^3$.

As elements $y+\A = \text{unit} * (r+s\A)^3$.
\spa

The units in $\Z[\sqrt{-13}]^\times$ are $\{\pm 1\}$.
\spa

Every unit is a cube so without loss of generality $y+\A = (r+s\A)^3$ resulting in the equation:
\begin{align*}
	y+\A = r^3 + 3r^2 s \A + 3rs^2 (-13) - 135s^3 \A
\end{align*}
\begin{align*}
	y &= r^3-39rs^2  &&& 1&=3r^2s - 135s^3\\
	&&&&& =(3r^2 - 13rs^2)s\\
	&&&& \implies s &= \pm 1
\end{align*}

If $s =1$, $\implies 3r^2 = 14 $ \lightning
\spa

If $s= -1 $ ,$\implies 3r^2 = 12$ and so $r = \pm 2$.
\spa

So the final solutions to the equation are $(x,y) = (17,\pm 70).$

\subsection{Geometry of Numbers}
(Never understood this chapter so expect a lot of typos)

Let $V = \R ^d$ and $\bba = \{ b_1,\dots,b_d\}$ be a basis for $V$. The lattice spanned by $\bba$ is $L = Span_\Z(\bba)  = \{x_1b_1 + \dots + x_db_d: x_i \in \Z \}$ 
\spac
	\includegraphics[width=150pt]{lattice.png} Example lattice with two basis vectors.
\spac
Also let the fundamental cell $P = \{\sum x_ib_i : x_i \in [0,1)\}$.
We can think of $P$ as a set of coset representatives for $L$ in $V$, every $v \in V$ is congruent mod $L$ to a unique point in $P$.

\spa
$Vol(p) = |\det(b_1 \dots b_d)|$ is called the covolume of $L$.


\begin{lemma}
	Suppose $U \subseteq V$ with $Vol(U)$ well defined if $Vol(U) > Vol(P)$ then there exists $u,v \in U$ $u \neq v$ such taht $u - v \in L$.
\end{lemma}

$U = \bigcup_{l \in L} U_l$ where $U_l = U \cap(P+l)$


\begin{proof}
	Suppose $u \not \equiv v \hspace{7pt} (l)$ for all $u,v \in U$, $u \neq v$. Therefore $U_l - l \cap (U_m - m) = \emptyset$ for $l,m \in L$.

	Then $Vol(u) = \sum Vol(U_l) = \sum Vol(u_l -l) = Vol(\bigcup_{l \in L}(u_l - l) )  \leq Vol(P)$ \lightning
\end{proof}

\begin{defn}
	A subset $U \leq V$ is convex if for all $u,v \in U$, $\lambda \in [0,1]$ $\lambda u + (1-\lambda) v \in U$
\end{defn}


\begin{defn}
A subset $U \leq V$ is symmetric if for all $ u \in U$, $-u \in U$
\end{defn}


\subsubsection{Minkowski's Lemma}
\begin{lemma}

Suppose $U \subseteq V$ is convex and symmetric and $Vol(U) > 2^d Vol(P)$, then $U$ contains a non-zero point of $L$.
\end{lemma}

\begin{proof}
	$Vol(U) > 2^d Vol(P) = Vol(2P)$

	$2P$ is the fundamental cell for the lattice $2L = \{ 2l :l \in L\}$.
	\spa

	By the previous lemma, there exists $u,v \in U$ such that $u-v \in 2L $ $(u \neq v)$.
	\spa

	$U $ symmetric $\implies -V \in U$ and $U$ convex $\implies \frac{U-V}2 \in U$, $U - V \in U$ but $U-V \in 2L$ so $\frac{U-V}2 \in L$.
\end{proof}
\spac
\textbf{What does this have to do with Algebraic Number Theory?} 

Want to think of $I$ (an ideal) as a lattice in some vector space. 
Minkowski's lemma will show that $I$ contains some non-zero element of a big enough convex symmetric set. 
Choose a convex symmetric set where we have a bound on the norm.

\subsubsection{Minkowski Space}

Let $k$ be an algebraic number field, we have field embeddings:
\begin{align*}
	\sigma_1 , \dots \sigma_r : k \hookrightarrow \R && \sigma_{r+s+i} = \bar\sigma_{r+i}\\
	\sigma_{r+1}, \dots \sigma_{r+s} : k \hookrightarrow \C 
\end{align*}
\spa
Define $k_\infty = \R^r \times \C^s$ as the Minkowski space.
There is a map $\underline{\sigma}: k \hookrightarrow k_\infty$ by:
\begin{align*}
	\B \mapsto &\sigma_1(\B)\\
	&\vdots\\
	&\sigma_r(\B)\\
	&\sigma_{r+1}(\B)\\
	&\vdots\\
	&\sigma_{r+s}(\B)
\end{align*}
We'll use $\underline\sigma $ to think of $k$ as a subset of $k \infty$

\begin{lemma}
Suppose $\B$ is a basis for $k$ over $\Q$.
	Then $\underline\sigma (\B)$ is a basis for $k_\infty$ over $\R$.
	The lattice generated by $\underline\sigma(\B)$ has covolume $2^{-s} \sqrt{|\dd \B|}$
\end{lemma}
\begin{proof}
	If $s=0$ (i.e. all field embeddings are real) then this is very easy.
	\begin{align*}
		covol = |\det \Big( \sigma(b_1) \dots \sigma(b_d)\Big)| && \text{ for } \bba = \{ b_1, \dots, b_d\}
	\end{align*}

	Just knowing that this determinant is $\neq 0$ proves that $\sigma(b_1) , \dots , \sigma(b_d) $ is a basis so just need to prove formula for covolume.

	Recall $\dd = \det(\sigma_i(b_j))^2 = (covol)^2$ as long as $s=i$.



	\begin{align*}
		covolume = |\det \begin{pmatrix}
			\sigma_1(b_1) & \dots & \sigma_d(b_d)\\
			\vdots && \vdots\\
			\sigma_r(b_1) &\dots & \sigma_r(b_d)\\
			Re (\sigma_{r+1}(b_1)) &\dots& Re(\sigma_{r+1}(b_d))\\
			Im(\sigma_{r+1}(b_1)) &\dots& Im(\sigma_{r+1}(b_d))\\
			\vdots && \vdots \\
			Re (\sigma_{r+s}(b_1)) &\dots& Re(\sigma_{r+s}(b_d))\\
			Im(\sigma_{r+s}(b_1)) &\dots& Im(\sigma_{r+s}(b_d))\\
		\end{pmatrix}
		|
	\end{align*}
	Add $i *$ row $Im (\sigma_{r+1})$ to row $Re(\sigma_{r+1})$:
	\begin{align*}&= |\det \begin{pmatrix}
			\sigma_1(b_1) & \dots & \sigma_d(b_d)\\
			\vdots && \vdots\\
			\sigma_r(b_1) &\dots & \sigma_r(b_d)\\
			\sigma_{r+1}(b_1) &\dots& \sigma_{r+1}(b_d)\\
			Im(\sigma_{r+1}(b_1)) &\dots& Im(\sigma_{r+1}(b_d))\\
			\vdots && \vdots \\
			\sigma_{r+s}(b_1) &\dots& \sigma_{r+s}(b_d)\\
			Im(\sigma_{r+s}(b_1)) &\dots& Im(\sigma_{r+s}(b_d))\\
	\end{pmatrix}\\[2em]
		& = 2^{-s} |\det
 \begin{pmatrix}
			\sigma_1(b_1) & \dots & \sigma_d(b_d)\\
			\vdots && \vdots\\
			\sigma_r(b_1) &\dots & \sigma_r(b_d)\\
			\sigma_{r+1}(b_1) &\dots& \sigma_{r+1}(b_d)\\
			-2Im(\sigma_{r+1}(b_1)) &\dots& -2Im(\sigma_{r+1}(b_d))\\
			\vdots && \vdots \\
			\sigma_{r+s}(b_1) &\dots& \sigma_{r+s}(b_d)\\
			-2Im(\sigma_{r+s}(b_1)) &\dots& -2Im(\sigma_{r+s}(b_d))\\
		\end{pmatrix} |\\
	& = 2^{-s} |\det
 \begin{pmatrix}
			\sigma_1(b_1) & \dots & \sigma_d(b_d)\\
			\vdots && \vdots\\
			\sigma_r(b_1) &\dots & \sigma_r(b_d)\\
			\sigma_{r+1}(b_1) &\dots& \sigma_{r+1}(b_d)\\
			\bar\sigma_{r+1}(b_1) &\dots& \bar\sigma_{r+1}(b_d)\\
			\vdots && \vdots \\
			\sigma_{r+s}(b_1) &\dots& \sigma_{r+s}(b_d)\\
			\bar\sigma_{r+s}(b_1) &\dots& \bar\sigma_{r+s}(b_d)\\
		\end{pmatrix} |\\
		& = 2^{-s} \sqrt{|AB|}
\end{align*}
\end{proof}

\begin{lemma}
Let $I \subseteq \ring_k$ be a non-zero ideal. 
	Then $\underline\sigma(I)$ is a lattice in $k_\infty $ with covolume $2^{-s} N(I) \sqrt{|\dd|}$, where $\dd$ is the discriminant of an integral basis.
\end{lemma}



\begin{proof}
	Let $\bba$ be an integral basis, $\mathcal{C}$ be a $\Z-basis$ for $I$, i.e. $I = Span_\Z(\mathcal{C})$

	Let $c_i = \sum m_{ij} b_j$ for $m_{ij} \in \Z$ and $M = (m_{ij})$ the transition matrix.
	\spa

	$N(I) = |\ring_k/I | = | \Z^d /M\Z^d| = |\det (M)|$
	\spa

	$\dd(\mathcal{C}) = \det(M)^2 \dd \bba = N(I)^2 \dd \bba$
	\spa

	$Covol(I) = 2^{-s} \sqrt{|\dd \mathcal{C}|} = 2^{-s} N(I) \sqrt{|\dd\bba|}$

\end{proof}




\begin{defn}
	Let $u(a) = \{ \begin{pmatrix}
		x_1\\
		\dots\\
		x_r\\
		z_1\\
		\dots\\
		z_s
	\end{pmatrix} \in k_\infty : \sum |x_i| + 2\sum|z_i| < a\}$
\end{defn}

\subsection{Messy Lemma}
\begin{lemma}
	$u(a)$ is convex and symmetric and $Vol(u(a)) = \cfrac{2^r (\frac{\pi}{2})^s a^d }{d!}$
\end{lemma}



\begin{proof}
	Clearly symmetric, suppose $u = \begin{pmatrix}
		x_1\\
		\vdots\\
		x_r\\
		z_1\\
		\vdots\\
		z_s
	\end{pmatrix}$ and $v' = \begin{pmatrix}
x_1'\\
		\vdots\\
		x_r'\\
		z_1'\\
		\vdots\\
		z_s'
	\end{pmatrix}$

	$u, v \in u(a) $ 

	Let $\lambda \in (0,1)$.
	Need to show $\lambda u + (1-\lambda) v' \in u(a) $
	\begin{align*}
\sum |x_i| + 2 \sum |z_i| \leq a\\
	\end{align*}
	\begin{align*}
		\sum|\lambda x_i + (1-\lambda)x_i'| + 2\sum|\lambda z_i + (1-\lambda)z_i| & \leq \sum |\lambda x_i| + 2\sum|\lambda z_i| + \sum|(1-\lambda)x_i'| + 2\sum|(1-\lambda)z_i'| \\
		& \leq \lambda (\sum |x_i| + 2\sum|z_i|) + (1-\lambda)(\sum |x_i| + 2 \sum |z_i'|)\\
		& \leq \lambda a + (1-\lambda)a = a
	\end{align*}
	Therefore $u(a)$ is convex.



\end{proof}

\begin{lemma}
	Let $I$ be a non-zero ideal then there exists $\B \in I$ $\B \neq 0 $ such that $|N(\B)| <M_k * N(I) $
\end{lemma}
\begin{proof}
	$I$ is a lattice in $k_\infty$ with covolume $2^{-s} \sqrt{|\dd|} N(I)$, $u(a)$ is convex, symmetric with volume $\cfrac{2^r \frac{\pi}{2}^s a^d}{d!}$ as long as $Vol(u(a)) > 2^d covol(I)$, then there is a non-zero element of $I$ in $u(a)$ by Minkowski's Lemma.
	Let's solve the inequality:

	\begin{align*}
		\frac{2^r \frac{\pi}{2}^s a^d}{d!} &> 2^d 2^{-s} \sqrt{|\dd|} N(I)\\
		a^d &> \cfrac{2^d 2^{-s} 2^{-r} 2^{s} d!}{\pi^s} \sqrt{|\dd|} N(I)
	\end{align*}

	Since $d = r+ 2s \implies d -r =2s$, then

	\begin{align*}
		a^d > \frac{4}{\pi}^s d! \sqrt{|\dd|} N(I)
	\end{align*}
	If this is the case then we have an element $\B \neq 0$, $\B \in I$ such that $\B \in u(a)$



	\begin{align*}
		\sum_{i=1}^r |\sigma_i(\B) | + 2 \sum_{i=1}^s |\sigma_{r+i}(\B)| &\leq a\\
		\sum_{i=1}^d |\sigma_i(\B)|& \leq a\\
		\frac{1}{d} \sum |\sigma_i(\B)| &\leq \frac{a}{d} 
	\end{align*}
	By the AM-GM inequality, $\sqrt[d]{\prod |\sigma_i(\B)|} < \frac{a}{d}$.

	Then $|N(\B)| \leq \frac{a^d}{d^d}$, so there is an element $\B \neq 0 $ in $I$ such that:

	\begin{align*}
		N(\B) \leq \underbrace{\Big(\frac{4}{\pi}\Big)^s \frac{d!}{d^d} \sqrt{|\dd|} }_{M_k}N(I) 
	\end{align*}
\end{proof}


\newpage
\center ggwp







 \end{document}

 

